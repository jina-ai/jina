!MyEncoder
metas:
  name: myenc  # a customized name
  workspace: $JINA_WORKSPACE
  py_modules: components.py
requests:
  on:
    [IndexRequest, SearchRequest]:
      - !Blob2PngURI
        with:
          height: 28
          width: 28
      - !EncodeDriver {}
      - !ExcludeQL
        with:
          fields:
            - buffer
            - chunks

with:
  target_dimension: $JINA_MYENCODER_TARGET_DIMENSION
