<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
<meta property="og:title" content="jina.orchestrate.flow.asyncio module" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://docs.jina.ai/api/jina.orchestrate.flow.asyncio/" />
<meta property="og:site_name" content="Jina 3.20.3 Documentation" />
<meta property="og:image" content="https://docs.jina.ai/_static/banner.png" />
<meta property="og:image:alt" content="Jina 3.20.3 Documentation" />
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@JinaAI_">
<meta name="twitter:creator" content="@JinaAI_">
<meta name="description" content="Build multimodal AI services via cloud native technologies · Neural Search · Generative AI · Cloud Native · MLOps">
<meta property="og:description" content="Build multimodal AI services via cloud native technologies · Neural Search · Generative AI · Cloud Native · MLOps">

    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-48ZDWC8GT6"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-48ZDWC8GT6');
</script>

<script async defer src="https://buttons.github.io/buttons.js"></script>
    
<link rel="index" title="Index" href="../../genindex/" /><link rel="search" title="Search" href="../../search/" />
        <link rel="canonical" href="https://docs.jina.ai/api/jina.orchestrate.flow.asyncio.html" />

    <link rel="shortcut icon" href="../../_static/favicon.ico"/><!-- Generated with Sphinx 5.3.0 and Furo 2023.03.27 -->
        <title>jina.orchestrate.flow.asyncio module - Jina 3.20.3 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo.css?digest=fad236701ea90a88636c2a8c73b44ae642ed2a53" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    <link rel="stylesheet" type="text/css" href="../../_static/main.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/docbot.css" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" />
    
    


<style>
  body {
    --color-code-background: #ffffff;
  --color-code-foreground: #4d4d4d;
  --color-brand-primary: #009191;
  --color-brand-content: #009191;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-brand-primary: #FBCB67;
  --color-brand-content: #FBCB67;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-brand-primary: #FBCB67;
  --color-brand-content: #FBCB67;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
    <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
    <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
    <header class="mobile-header">
        <div class="header-left">
            <label class="nav-overlay-icon" for="__navigation">
                <div class="visually-hidden">Toggle site navigation sidebar</div>
                <i class="icon">
                    <svg>
                        <use href="#svg-menu"></use>
                    </svg>
                </i>
            </label>
        </div>
        <div class="header-center">
            <a href="../../">
                <div class="brand">Jina 3.20.3 documentation</div>
            </a>
        </div>
        <div class="header-right">
            <div class="theme-toggle-container theme-toggle-header">
                <button class="theme-toggle">
                    <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
                    <svg class="theme-icon-when-auto">
                        <use href="#svg-sun-half"></use>
                    </svg>
                    <svg class="theme-icon-when-dark">
                        <use href="#svg-moon"></use>
                    </svg>
                    <svg class="theme-icon-when-light">
                        <use href="#svg-sun"></use>
                    </svg>
                </button>
            </div>
            <label class="toc-overlay-icon toc-header-icon" for="__toc">
                <div class="visually-hidden">Toggle table of contents sidebar</div>
                <i class="icon">
                    <svg>
                        <use href="#svg-toc"></use>
                    </svg>
                </i>
            </label>
        </div>
    </header>
    <aside class="sidebar-drawer">
        <div class="sidebar-container">
            
            <div class="sidebar-sticky"><a class="sidebar-brand" href="../../">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="../../_static/logo-light.svg" alt="Light Logo" />
    <img class="sidebar-logo only-dark" src="../../_static/logo-dark.svg" alt="Dark Logo" />
  </div>
  
  
</a>
<script>
  function setPrefix(prefix){
    window.location.href = prefix
  }
</script>
<script defer>
  fetch(`https://${window.location.host}/_versions.json`)
  .then((resp) => resp.json())
  .then((data) => {
    var versionSelector = document.getElementsByClassName("version-select")[0];
    var currentPrefix = window.location.href.toString().split(window.location.host)[1].split('/')[1];

    for(var i = 0; i < data.length; i++){
      var option = document.createElement("option");
      option.innerHTML = data[i].version;
      option.value = "/" + data[i].version;
      versionSelector.appendChild(option);
      if(currentPrefix === data[i].version){
        versionSelector.selectedIndex = i + 1;
      }
    }
  })
  .catch((err) => console.log(err));
</script>
<div class="sd-d-flex-row sd-align-major-spaced">
  <a class="github-button" href="https://github.com/jina-ai/jina" data-icon="octicon-star" data-show-count="true" aria-label="Star jina-ai/jina on GitHub" style="opacity: 0;">Star</a>
  <select onChange="setPrefix(this.value)" class="version-select">
    <option value="/">latest</option>
  </select>
</div><form class="sidebar-search-container" method="get" action="../../search/" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
    <p class="caption" role="heading"><span class="caption-text">Get Started</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../get-started/install/"><svg aria-hidden="true" class="sd-octicon sd-octicon-desktop-download" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em"><path d="M4.927 5.427l2.896 2.896a.25.25 0 00.354 0l2.896-2.896A.25.25 0 0010.896 5H8.75V.75a.75.75 0 10-1.5 0V5H5.104a.25.25 0 00-.177.427z"></path><path d="M1.573 2.573a.25.25 0 00-.073.177v7.5a.25.25 0 00.25.25h12.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-3a.75.75 0 110-1.5h3A1.75 1.75 0 0116 2.75v7.5A1.75 1.75 0 0114.25 12h-3.727c.099 1.041.52 1.872 1.292 2.757A.75.75 0 0111.25 16h-6.5a.75.75 0 01-.565-1.243c.772-.885 1.192-1.716 1.292-2.757H1.75A1.75 1.75 0 010 10.25v-7.5A1.75 1.75 0 011.75 1h3a.75.75 0 010 1.5h-3a.25.25 0 00-.177.073zM6.982 12a5.72 5.72 0 01-.765 2.5h3.566a5.72 5.72 0 01-.765-2.5H6.982z"></path></svg> Install</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../get-started/install/docker/">Via Docker Image</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../get-started/install/apple-silicon-m1-m2/">On Apple Silicon</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../get-started/install/windows/">On Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../get-started/install/troubleshooting/">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../get-started/create-app/"><span class="fas fa-folder-plus"></span> Create First Project</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Concepts</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../concepts/preliminaries/"><span class="fas fa-egg"></span> Preliminaries</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/preliminaries/coding-in-python-yaml/">Coding in Python/YAML</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../concepts/serving/"><span class="fas fa-gears"></span> Serving</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../concepts/serving/executor/">Executor</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../concepts/serving/executor/create/">Create</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../concepts/serving/executor/add-endpoints/">Add Endpoints</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../concepts/serving/executor/serve/">Serve</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../concepts/serving/executor/dynamic-batching/">Dynamic Batching</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../concepts/serving/executor/health-check/">Health Check</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../concepts/serving/executor/hot-reload/">Hot Reload</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../concepts/serving/executor/file-structure/">File Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../concepts/serving/executor/containerize/">Containerize</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../concepts/serving/executor/instrumentation/">Instrumentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../concepts/serving/executor/yaml-spec/"><svg aria-hidden="true" class="sd-octicon sd-octicon-file-code" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em"><path d="M4 1.75C4 .784 4.784 0 5.75 0h5.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v8.586A1.75 1.75 0 0114.25 15h-9a.75.75 0 010-1.5h9a.25.25 0 00.25-.25V6h-2.75A1.75 1.75 0 0110 4.25V1.5H5.75a.25.25 0 00-.25.25v2.5a.75.75 0 01-1.5 0v-2.5zm7.5-.188V4.25c0 .138.112.25.25.25h2.688a.252.252 0 00-.011-.013l-2.914-2.914a.272.272 0 00-.013-.011zM5.72 6.72a.75.75 0 000 1.06l1.47 1.47-1.47 1.47a.75.75 0 101.06 1.06l2-2a.75.75 0 000-1.06l-2-2a.75.75 0 00-1.06 0zM3.28 7.78a.75.75 0 00-1.06-1.06l-2 2a.75.75 0 000 1.06l2 2a.75.75 0 001.06-1.06L1.81 9.25l1.47-1.47z" fill-rule="evenodd"></path></svg> YAML specification</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../concepts/serving/gateway/">Gateway</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../concepts/serving/gateway/health-check/">Health Check</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../concepts/serving/gateway/rate-limit/">Rate Limit</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../concepts/serving/gateway/customize-http-endpoints/">Customize HTTP endpoints</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../concepts/serving/gateway/customization/">Customization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../concepts/serving/gateway/yaml-spec/"><svg aria-hidden="true" class="sd-octicon sd-octicon-file-code" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em"><path d="M4 1.75C4 .784 4.784 0 5.75 0h5.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v8.586A1.75 1.75 0 0114.25 15h-9a.75.75 0 010-1.5h9a.25.25 0 00.25-.25V6h-2.75A1.75 1.75 0 0110 4.25V1.5H5.75a.25.25 0 00-.25.25v2.5a.75.75 0 01-1.5 0v-2.5zm7.5-.188V4.25c0 .138.112.25.25.25h2.688a.252.252 0 00-.011-.013l-2.914-2.914a.272.272 0 00-.013-.011zM5.72 6.72a.75.75 0 000 1.06l1.47 1.47-1.47 1.47a.75.75 0 101.06 1.06l2-2a.75.75 0 000-1.06l-2-2a.75.75 0 00-1.06 0zM3.28 7.78a.75.75 0 00-1.06-1.06l-2 2a.75.75 0 000 1.06l2 2a.75.75 0 001.06-1.06L1.81 9.25l1.47-1.47z" fill-rule="evenodd"></path></svg> YAML specification</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../concepts/orchestration/"><span class="fas fa-network-wired"></span> Orchestration</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/orchestration/deployment/">Deployment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/orchestration/flow/">Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/orchestration/add-executors/">Add Executors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/orchestration/scale-out/">Scale Out</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/orchestration/hot-reload/">Hot Reload</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/orchestration/handle-exceptions/">Handle Exceptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/orchestration/readiness/">Readiness</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/orchestration/health-check/">Health Check</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/orchestration/instrumentation/">Instrumentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/orchestration/troubleshooting-on-multiprocess/">Troubleshooting on Multiprocessing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/orchestration/yaml-spec/"><svg aria-hidden="true" class="sd-octicon sd-octicon-file-code" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em"><path d="M4 1.75C4 .784 4.784 0 5.75 0h5.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v8.586A1.75 1.75 0 0114.25 15h-9a.75.75 0 010-1.5h9a.25.25 0 00.25-.25V6h-2.75A1.75 1.75 0 0110 4.25V1.5H5.75a.25.25 0 00-.25.25v2.5a.75.75 0 01-1.5 0v-2.5zm7.5-.188V4.25c0 .138.112.25.25.25h2.688a.252.252 0 00-.011-.013l-2.914-2.914a.272.272 0 00-.013-.011zM5.72 6.72a.75.75 0 000 1.06l1.47 1.47-1.47 1.47a.75.75 0 101.06 1.06l2-2a.75.75 0 000-1.06l-2-2a.75.75 0 00-1.06 0zM3.28 7.78a.75.75 0 00-1.06-1.06l-2 2a.75.75 0 000 1.06l2 2a.75.75 0 001.06-1.06L1.81 9.25l1.47-1.47z" fill-rule="evenodd"></path></svg> YAML specification</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../concepts/client/"><span class="fas fa-laptop-code"></span> Client</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/client/send-receive-data/">Send &amp; Receive Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/client/send-parameters/">Send Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/client/send-graphql-mutation/">Send GraphQL Mutation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/client/transient-errors/">Transient Errors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/client/callbacks/">Callbacks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/client/rate-limit/">Rate Limit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/client/instrumentation/">Instrumentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/client/third-party-clients/">Third-party clients</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Cloud Native</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../cloud-nativeness/k8s/"><span class="fas fa-dharmachakra"></span> Kubernetes Support</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../cloud-nativeness/kubernetes/">Deploy on Kubernetes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud-nativeness/docker-compose/"><span class="fab fa-docker"></span> Docker Compose Support</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../cloud-nativeness/opentelemetry/"><svg aria-hidden="true" class="sd-octicon sd-octicon-telescope-fill" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em"><path d="M8.531 10.21a.75.75 0 01.944.253l2.644 3.864a.75.75 0 11-1.238.847L9 12.424v2.826a.75.75 0 01-1.5 0v-2.826l-1.881 2.75a.75.75 0 01-1.238-.848l2.048-2.992a.75.75 0 01.293-.252l1.81-.871zM11.905.42a1.5 1.5 0 012.144.49l1.692 2.93a1.5 1.5 0 01-.649 2.102L2.895 11.815a1.5 1.5 0 01-1.95-.602l-.68-1.176a1.5 1.5 0 01.455-1.99L11.905.422zM3.279 8.119l.835 1.445 1.355-.653-.947-1.64-1.243.848zm7.728-1.874L9.6 3.808l1.243-.848 1.52 2.631-1.356.653z" fill-rule="evenodd"></path></svg> OpenTelemetry Support</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../cloud-nativeness/opentelemetry-migration/">Migrate from Prometheus/Grafana to OpenTelemetry</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cloud-nativeness/monitoring/">Prometheus/Grafana Support (Legacy)</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../jina-ai-cloud/"><svg aria-hidden="true" class="sd-octicon sd-octicon-beaker" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em"><path d="M5 5.782V2.5h-.25a.75.75 0 010-1.5h6.5a.75.75 0 010 1.5H11v3.282l3.666 5.76C15.619 13.04 14.543 15 12.767 15H3.233c-1.776 0-2.852-1.96-1.899-3.458L5 5.782zM9.5 2.5h-3V6a.75.75 0 01-.117.403L4.73 9h6.54L9.617 6.403A.75.75 0 019.5 6V2.5zm-6.9 9.847L3.775 10.5h8.45l1.175 1.847a.75.75 0 01-.633 1.153H3.233a.75.75 0 01-.633-1.153z" fill-rule="evenodd"></path></svg> Jina AI Cloud</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../jina-ai-cloud/login/">Login &amp; Token Management</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../concepts/serving/executor/hub/">Executor Hub</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../concepts/serving/executor/hub/hub-portal/">Portal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../concepts/serving/executor/hub/create-hub-executor/">Create</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../concepts/serving/executor/hub/push-executor/">Publish</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../concepts/serving/executor/hub/use-hub-executor/">Use</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../concepts/serving/executor/hub/sandbox/">Sandbox</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../concepts/serving/executor/hub/debug-executor/">Debug</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../concepts/jcloud/">Jina AI Cloud Hosting</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../concepts/jcloud/configuration/"><svg aria-hidden="true" class="sd-octicon sd-octicon-file-code" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em"><path d="M4 1.75C4 .784 4.784 0 5.75 0h5.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v8.586A1.75 1.75 0 0114.25 15h-9a.75.75 0 010-1.5h9a.25.25 0 00.25-.25V6h-2.75A1.75 1.75 0 0110 4.25V1.5H5.75a.25.25 0 00-.25.25v2.5a.75.75 0 01-1.5 0v-2.5zm7.5-.188V4.25c0 .138.112.25.25.25h2.688a.252.252 0 00-.011-.013l-2.914-2.914a.272.272 0 00-.013-.011zM5.72 6.72a.75.75 0 000 1.06l1.47 1.47-1.47 1.47a.75.75 0 101.06 1.06l2-2a.75.75 0 000-1.06l-2-2a.75.75 0 00-1.06 0zM3.28 7.78a.75.75 0 00-1.06-1.06l-2 2a.75.75 0 000 1.06l2 2a.75.75 0 001.06-1.06L1.81 9.25l1.47-1.47z" fill-rule="evenodd"></path></svg> Configuration</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../api-rst/"><span class="fab fa-python"></span> Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cli/"><svg aria-hidden="true" class="sd-octicon sd-octicon-terminal" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em"><path d="M0 2.75C0 1.784.784 1 1.75 1h12.5c.966 0 1.75.784 1.75 1.75v10.5A1.75 1.75 0 0114.25 15H1.75A1.75 1.75 0 010 13.25V2.75zm1.75-.25a.25.25 0 00-.25.25v10.5c0 .138.112.25.25.25h12.5a.25.25 0 00.25-.25V2.75a.25.25 0 00-.25-.25H1.75zM7.25 8a.75.75 0 01-.22.53l-2.25 2.25a.75.75 0 11-1.06-1.06L5.44 8 3.72 6.28a.75.75 0 111.06-1.06l2.25 2.25c.141.14.22.331.22.53zm1.5 1.5a.75.75 0 000 1.5h3a.75.75 0 000-1.5h-3z" fill-rule="evenodd"></path></svg> Command-Line Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../yaml-spec/"><svg aria-hidden="true" class="sd-octicon sd-octicon-file-code" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em"><path d="M4 1.75C4 .784 4.784 0 5.75 0h5.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v8.586A1.75 1.75 0 0114.25 15h-9a.75.75 0 010-1.5h9a.25.25 0 00.25-.25V6h-2.75A1.75 1.75 0 0110 4.25V1.5H5.75a.25.25 0 00-.25.25v2.5a.75.75 0 01-1.5 0v-2.5zm7.5-.188V4.25c0 .138.112.25.25.25h2.688a.252.252 0 00-.011-.013l-2.914-2.914a.272.272 0 00-.013-.011zM5.72 6.72a.75.75 0 000 1.06l1.47 1.47-1.47 1.47a.75.75 0 101.06 1.06l2-2a.75.75 0 000-1.06l-2-2a.75.75 0 00-1.06 0zM3.28 7.78a.75.75 0 00-1.06-1.06l-2 2a.75.75 0 000 1.06l2 2a.75.75 0 001.06-1.06L1.81 9.25l1.47-1.47z" fill-rule="evenodd"></path></svg> YAML Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../envs/"><svg aria-hidden="true" class="sd-octicon sd-octicon-list-unordered" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em"><path d="M2 4a1 1 0 100-2 1 1 0 000 2zm3.75-1.5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zM3 8a1 1 0 11-2 0 1 1 0 012 0zm-1 6a1 1 0 100-2 1 1 0 000 2z" fill-rule="evenodd"></path></svg> Environment Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../telemetry/"><span class="fas fa-tower-cell"></span> Telemetry</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../proto/docs/">Protocol Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docarray-support/">DocArray support</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/deploy-model/">Deploy a model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/gpu-executor/">Build a GPU Executor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/llm-serve/">Build a Streaming API for a Large Language Model</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Legacy Support</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://docs2.jina.ai/">Jina 2 Documentation</a></li>
</ul>

    <p class="caption" role="heading"><span class="caption-text">Ecosystem</span></p>
    <ul>
        <li class="toctree-l1">
            <a class="reference internal" href="#">
                <img class="sidebar-ecosys-logo only-light-line" src="../../_static/search-light.svg">
                <img class="sidebar-ecosys-logo only-dark-line" src="../../_static/search-dark.svg">
                Jina</a></li>
        <li class="toctree-l1"><a class="reference external" href="https://cloud.jina.ai">
            <img class="sidebar-ecosys-logo only-light-line" src="../../_static/hub-light.svg">
            <img class="sidebar-ecosys-logo only-dark-line" src="../../_static/hub-dark.svg">
            Jina Hub</a></li>
        <li class="toctree-l1"><a class="reference external" href="https://finetuner.jina.ai">
            <img class="sidebar-ecosys-logo only-light-line" src="../../_static/finetuner-light.svg">
            <img class="sidebar-ecosys-logo only-dark-line" src="../../_static/finetuner-dark.svg">
            Finetuner</a></li>
        <li class="toctree-l1"><a class="reference external" href="https://docs.docarray.org">
            <img class="sidebar-ecosys-logo only-light-line" src="../../_static/docarray-light.svg">
            <img class="sidebar-ecosys-logo only-dark-line" src="../../_static/docarray-dark.svg">
            DocArray</a></li>
        <li class="toctree-l1"><a class="reference external" href="https://clip-as-service.jina.ai">
            <img class="sidebar-ecosys-logo only-light-line" src="../../_static/cas-light.svg">
            <img class="sidebar-ecosys-logo only-dark-line" src="../../_static/cas-dark.svg">
            CLIP-as-service</a></li>
        <li class="toctree-l1"><a class="reference external" href="https://github.com/jina-ai/jcloud">
            <img class="sidebar-ecosys-logo only-light-line" src="../../_static/JCloud-light.svg">
            <img class="sidebar-ecosys-logo only-dark-line" src="../../_static/JCloud-dark.svg">
            JCloud</a></li>
        <li class="toctree-l1"><a class="reference external" href="https://now.jina.ai">
            <img class="sidebar-ecosys-logo only-light-line" src="../../_static/now-light.svg">
            <img class="sidebar-ecosys-logo only-dark-line" src="../../_static/now-dark.svg">
            NOW</a></li>
    </ul>
</div>

</div>

            </div>
            
        </div>
    </aside>
    <div class="main">
        <div class="content">
            <div class="article-container">
                <a href="#" class="back-to-top muted-link">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
                    </svg>
                    <span>Back to top</span>
                </a>
                <div class="content-icon-container"><div class="theme-toggle-container theme-toggle-content">
                        <button class="theme-toggle">
                            <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
                            <svg class="theme-icon-when-auto">
                                <use href="#svg-sun-half"></use>
                            </svg>
                            <svg class="theme-icon-when-dark">
                                <use href="#svg-moon"></use>
                            </svg>
                            <svg class="theme-icon-when-light">
                                <use href="#svg-sun"></use>
                            </svg>
                        </button>
                    </div>
                    <label class="toc-overlay-icon toc-content-icon"
                           for="__toc">
                        <div class="visually-hidden">Toggle table of contents sidebar</div>
                        <i class="icon">
                            <svg>
                                <use href="#svg-toc"></use>
                            </svg>
                        </i>
                    </label>
                </div>
                <article role="main">
                    <section id="module-jina.orchestrate.flow.asyncio">
<span id="jina-orchestrate-flow-asyncio-module"></span><h1>jina.orchestrate.flow.asyncio module<a class="headerlink" href="#module-jina.orchestrate.flow.asyncio" title="Permalink to this heading">#</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="jina.orchestrate.flow.asyncio.AsyncFlow">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">jina.orchestrate.flow.asyncio.</span></span><span class="sig-name descname"><span class="pre">AsyncFlow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">asyncio</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grpc_channel_options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">host</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'0.0.0.0'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metrics</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metrics_exporter_host</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metrics_exporter_port</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefetch</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">protocol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'GRPC'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">proxy</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suppress_root_logging</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tls</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">traces_exporter_host</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">traces_exporter_port</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tracing</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/jina/orchestrate/flow/asyncio/#AsyncFlow"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#jina.orchestrate.flow.asyncio.AsyncFlow" title="Permalink to this definition">#</a></dt>
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">jina.orchestrate.flow.asyncio.</span></span><span class="sig-name descname"><span class="pre">AsyncFlow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compression</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deployments_addresses</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'{}'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deployments_metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'{}'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deployments_no_reduce</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'[]'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">docker_kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entrypoint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expose_endpoints</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expose_graphql_endpoint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">floating</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">graph_conditions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'{}'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">graph_description</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'{}'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grpc_channel_options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grpc_server_options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">host</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'0.0.0.0'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metrics</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metrics_exporter_host</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metrics_exporter_port</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">monitoring</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'gateway'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_crud_endpoints</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_debug_endpoints</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port_monitoring</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefetch</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">protocol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">['GRPC']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">proxy</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">py_modules</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quiet</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quiet_error</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reload</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replicas</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retries</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">runtime_cls</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'GatewayRuntime'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ssl_certfile</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ssl_keyfile</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stateful</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout_ctrl</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">60</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout_ready</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">600000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout_send</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">traces_exporter_host</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">traces_exporter_port</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tracing</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uses</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Type</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../jina.serve.executors/#jina.serve.executors.BaseExecutor" title="jina.serve.executors.BaseExecutor"><span class="pre">BaseExecutor</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uses_with</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uvicorn_kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">workspace</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span></dt>
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">jina.orchestrate.flow.asyncio.</span></span><span class="sig-name descname"><span class="pre">AsyncFlow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inspect</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'COLLECT'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quiet</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quiet_error</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reload</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suppress_root_logging</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uses</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">workspace</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Bases: <a class="reference internal" href="../jina.clients.mixin/#jina.clients.mixin.AsyncPostMixin" title="jina.clients.mixin.AsyncPostMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncPostMixin</span></code></a>, <a class="reference internal" href="../jina.clients.mixin/#jina.clients.mixin.AsyncProfileMixin" title="jina.clients.mixin.AsyncProfileMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncProfileMixin</span></code></a>, <a class="reference internal" href="../jina.clients.mixin/#jina.clients.mixin.AsyncHealthCheckMixin" title="jina.clients.mixin.AsyncHealthCheckMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncHealthCheckMixin</span></code></a>, <a class="reference internal" href="../jina.orchestrate.flow.base/#jina.orchestrate.flow.base.Flow" title="jina.orchestrate.flow.base.Flow"><code class="xref py py-class docutils literal notranslate"><span class="pre">Flow</span></code></a></p>
<p>Asynchronous version of <code class="xref py py-class docutils literal notranslate"><span class="pre">jina.Flow</span></code>. They share the same interface, except
in <a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow" title="jina.orchestrate.flow.asyncio.AsyncFlow"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncFlow</span></code></a> <code class="xref py py-meth docutils literal notranslate"><span class="pre">train()</span></code>, <a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.index" title="jina.orchestrate.flow.asyncio.AsyncFlow.index"><code class="xref py py-meth docutils literal notranslate"><span class="pre">index()</span></code></a>, <a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.search" title="jina.orchestrate.flow.asyncio.AsyncFlow.search"><code class="xref py py-meth docutils literal notranslate"><span class="pre">search()</span></code></a> methods are coroutines
(i.e. declared with the async/await syntax), simply calling them will not schedule them to be executed.
To actually run a coroutine, user need to put them in an eventloop, e.g. via <code class="docutils literal notranslate"><span class="pre">asyncio.run()</span></code>,
<code class="docutils literal notranslate"><span class="pre">asyncio.create_task()</span></code>.</p>
<p><a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow" title="jina.orchestrate.flow.asyncio.AsyncFlow"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncFlow</span></code></a> can be very useful in
the integration settings, where Jina/Jina Flow is NOT the main logic, but rather served as a part of other program.
In this case, users often do not want to let Jina control the <code class="docutils literal notranslate"><span class="pre">asyncio.eventloop</span></code>. On contrary, <code class="xref py py-class docutils literal notranslate"><span class="pre">Flow</span></code>
is controlling and wrapping the eventloop internally, making the Flow looks synchronous from outside.</p>
<p>In particular, <a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow" title="jina.orchestrate.flow.asyncio.AsyncFlow"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncFlow</span></code></a> makes Jina usage in Jupyter Notebook more natural and reliable.
For example, the following code
will use the eventloop that already spawned in Jupyter/ipython to run Jina Flow (instead of creating a new one).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">jina</span> <span class="kn">import</span> <span class="n">AsyncFlow</span>
<span class="kn">from</span> <span class="nn">jina.types.document.generators</span> <span class="kn">import</span> <span class="n">from_ndarray</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="k">with</span> <span class="n">AsyncFlow</span><span class="p">()</span><span class="o">.</span><span class="n">add</span><span class="p">()</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="k">await</span> <span class="n">f</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">from_ndarray</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">])),</span> <span class="n">on_done</span><span class="o">=</span><span class="nb">print</span><span class="p">)</span>
</pre></div>
</div>
<p>Notice that the above code will NOT work in standard Python REPL, as only Jupyter/ipython implements “autoawait”.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Asynchronous in REPL: Autoawait</p>
<p><a class="reference external" href="https://ipython.readthedocs.io/en/stable/interactive/autoawait.html">https://ipython.readthedocs.io/en/stable/interactive/autoawait.html</a></p>
</div>
<p>Another example is when using Jina as an integration. Say you have another IO-bounded job <code class="docutils literal notranslate"><span class="pre">heavylifting()</span></code>, you
can use this feature to schedule Jina <code class="docutils literal notranslate"><span class="pre">index()</span></code> and <code class="docutils literal notranslate"><span class="pre">heavylifting()</span></code> concurrently.</p>
<p>One can think of <code class="xref py py-class docutils literal notranslate"><span class="pre">Flow</span></code> as Jina-managed eventloop, whereas <a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow" title="jina.orchestrate.flow.asyncio.AsyncFlow"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncFlow</span></code></a> is self-managed eventloop.</p>
<p>Create a Flow. Flow is how Jina streamlines and scales Executors.</p>
<p>EXAMPLE USAGE</p>
<blockquote>
<div><p>Python API</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">jina</span> <span class="kn">import</span> <span class="n">Flow</span>

<span class="n">f</span> <span class="o">=</span> <span class="n">Flow</span><span class="p">()</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">uses</span><span class="o">=</span><span class="s1">&#39;jinahub+docker://SimpleIndexer&#39;</span><span class="p">)</span>  <span class="c1"># create Flow and add Executor</span>
<span class="k">with</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">bock</span><span class="p">()</span>  <span class="c1"># serve Flow</span>
</pre></div>
</div>
<p>To and from YAML configuration</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">jina</span> <span class="kn">import</span> <span class="n">Flow</span>

<span class="n">f</span> <span class="o">=</span> <span class="n">Flow</span><span class="p">()</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">uses</span><span class="o">=</span><span class="s1">&#39;jinahub+docker://SimpleIndexer&#39;</span><span class="p">)</span>  <span class="c1"># create Flow and add Executor</span>
<span class="n">f</span><span class="o">.</span><span class="n">save_config</span><span class="p">(</span><span class="s1">&#39;flow.yml&#39;</span><span class="p">)</span>  <span class="c1"># save YAML config file</span>
<span class="n">f</span> <span class="o">=</span> <span class="n">Flow</span><span class="o">.</span><span class="n">load_config</span><span class="p">(</span><span class="s1">&#39;flow.yml&#39;</span><span class="p">)</span>  <span class="c1"># load Flow from YAML config</span>
<span class="k">with</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">bock</span><span class="p">()</span>  <span class="c1"># serve Flow</span>
</pre></div>
</div>
</div></blockquote>
<p>All arguments received by {class}`~jina.Flow()` API will be propagated to other entities (Gateway, Executor) with the following exceptions:</p>
<ul class="simple">
<li><p><cite>uses</cite> and <cite>uses_with</cite> won’t be passed to Gateway</p></li>
<li><p><cite>port</cite>, <cite>port_monitoring</cite>, <cite>uses</cite> and <cite>uses_with</cite> won’t be passed to Executor</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>asyncio</strong> – If set, then the input and output of this Client work in an asynchronous manner.</p></li>
<li><p><strong>grpc_channel_options</strong> – Dictionary of kwargs arguments that will be passed to the grpc channel as options when creating a channel, example : {‘grpc.max_send_message_length’: -1}. When max_attempts &gt; 1, the ‘grpc.service_config’ option will not be applicable.</p></li>
<li><p><strong>host</strong> – The host of the Gateway, which the client should connect to, by default it is 0.0.0.0.</p></li>
<li><p><strong>log_config</strong> – The config name or the absolute path to the YAML config file of the logger used in this object.</p></li>
<li><p><strong>metrics</strong> – If set, the sdk implementation of the OpenTelemetry metrics will be available for default monitoring and custom measurements. Otherwise a no-op implementation will be provided.</p></li>
<li><p><strong>metrics_exporter_host</strong> – If tracing is enabled, this hostname will be used to configure the metrics exporter agent.</p></li>
<li><p><strong>metrics_exporter_port</strong> – If tracing is enabled, this port will be used to configure the metrics exporter agent.</p></li>
<li><p><strong>port</strong> – The port of the Gateway, which the client should connect to.</p></li>
<li><p><strong>prefetch</strong> – <p>Number of requests fetched from the client before feeding into the first Executor.</p>
<p>Used to control the speed of data input into a Flow. 0 disables prefetch (1000 requests is the default)</p>
</p></li>
<li><p><strong>protocol</strong> – Communication protocol between server and client.</p></li>
<li><p><strong>proxy</strong> – If set, respect the http_proxy and https_proxy environment variables. otherwise, it will unset these proxy variables before start. gRPC seems to prefer no proxy</p></li>
<li><p><strong>suppress_root_logging</strong> – If set, then no root handlers will be suppressed from logging.</p></li>
<li><p><strong>tls</strong> – If set, connect to gateway using tls encryption</p></li>
<li><p><strong>traces_exporter_host</strong> – If tracing is enabled, this hostname will be used to configure the trace exporter agent.</p></li>
<li><p><strong>traces_exporter_port</strong> – If tracing is enabled, this port will be used to configure the trace exporter agent.</p></li>
<li><p><strong>tracing</strong> – If set, the sdk implementation of the OpenTelemetry tracer will be available and will be enabled for automatic tracing of requests and customer span creation. Otherwise a no-op implementation will be provided.</p></li>
<li><p><strong>compression</strong> – The compression mechanism used when sending requests from the Head to the WorkerRuntimes. For more details, check <a class="reference external" href="https://grpc.github.io/grpc/python/grpc.html#compression">https://grpc.github.io/grpc/python/grpc.html#compression</a>.</p></li>
<li><p><strong>cors</strong> – If set, a CORS middleware is added to FastAPI frontend to allow cross-origin access.</p></li>
<li><p><strong>deployments_addresses</strong> – JSON dictionary with the input addresses of each Deployment</p></li>
<li><p><strong>deployments_metadata</strong> – JSON dictionary with the request metadata for each Deployment</p></li>
<li><p><strong>deployments_no_reduce</strong> – list JSON disabling the built-in merging mechanism for each Deployment listed</p></li>
<li><p><strong>description</strong> – The description of this HTTP server. It will be used in automatics docs such as Swagger UI.</p></li>
<li><p><strong>docker_kwargs</strong> – <p>Dictionary of kwargs arguments that will be passed to Docker SDK when starting the docker ‘
container.</p>
<p>More details can be found in the Docker SDK docs:  <a class="reference external" href="https://docker-py.readthedocs.io/en/stable/">https://docker-py.readthedocs.io/en/stable/</a></p>
</p></li>
<li><p><strong>entrypoint</strong> – The entrypoint command overrides the ENTRYPOINT in Docker image. when not set then the Docker image ENTRYPOINT takes effective.</p></li>
<li><p><strong>env</strong> – The map of environment variables that are available inside runtime</p></li>
<li><p><strong>expose_endpoints</strong> – A JSON string that represents a map from executor endpoints (<cite>&#64;requests(on=…)</cite>) to HTTP endpoints.</p></li>
<li><p><strong>expose_graphql_endpoint</strong> – If set, /graphql endpoint is added to HTTP interface.</p></li>
<li><p><strong>floating</strong> – If set, the current Pod/Deployment can not be further chained, and the next <cite>.add()</cite> will chain after the last Pod/Deployment not this current one.</p></li>
<li><p><strong>graph_conditions</strong> – Dictionary stating which filtering conditions each Executor in the graph requires to receive Documents.</p></li>
<li><p><strong>graph_description</strong> – Routing graph for the gateway</p></li>
<li><p><strong>grpc_channel_options</strong> – Dictionary of kwargs arguments that will be passed to the grpc channel as options when creating a channel, example : {‘grpc.max_send_message_length’: -1}. When max_attempts &gt; 1, the ‘grpc.service_config’ option will not be applicable.</p></li>
<li><p><strong>grpc_server_options</strong> – Dictionary of kwargs arguments that will be passed to the grpc server as options when starting the server, example : {‘grpc.max_send_message_length’: -1}</p></li>
<li><p><strong>host</strong> – The host address of the runtime, by default it is 0.0.0.0.</p></li>
<li><p><strong>log_config</strong> – The config name or the absolute path to the YAML config file of the logger used in this object.</p></li>
<li><p><strong>metrics</strong> – If set, the sdk implementation of the OpenTelemetry metrics will be available for default monitoring and custom measurements. Otherwise a no-op implementation will be provided.</p></li>
<li><p><strong>metrics_exporter_host</strong> – If tracing is enabled, this hostname will be used to configure the metrics exporter agent.</p></li>
<li><p><strong>metrics_exporter_port</strong> – If tracing is enabled, this port will be used to configure the metrics exporter agent.</p></li>
<li><p><strong>monitoring</strong> – If set, spawn an http server with a prometheus endpoint to expose metrics</p></li>
<li><p><strong>name</strong> – <p>The name of this object.</p>
<p>This will be used in the following places:
- how you refer to this object in Python/YAML/CLI
- visualization
- log message header
- …</p>
<p>When not given, then the default naming strategy will apply.</p>
</p></li>
<li><p><strong>no_crud_endpoints</strong> – <p>If set, <cite>/index</cite>, <cite>/search</cite>, <cite>/update</cite>, <cite>/delete</cite> endpoints are removed from HTTP interface.</p>
<p>Any executor that has <cite>&#64;requests(on=…)</cite> bound with those values will receive data requests.</p>
</p></li>
<li><p><strong>no_debug_endpoints</strong> – If set, <cite>/status</cite> <cite>/post</cite> endpoints are removed from HTTP interface.</p></li>
<li><p><strong>port</strong> – The port for input data to bind the gateway server to, by default, random ports between range [49152, 65535] will be assigned. The port argument can be either 1 single value in case only 1 protocol is used or multiple values when many protocols are used.</p></li>
<li><p><strong>port_monitoring</strong> – The port on which the prometheus server is exposed, default is a random port between [49152, 65535]</p></li>
<li><p><strong>prefetch</strong> – <p>Number of requests fetched from the client before feeding into the first Executor.</p>
<p>Used to control the speed of data input into a Flow. 0 disables prefetch (1000 requests is the default)</p>
</p></li>
<li><p><strong>protocol</strong> – Communication protocol of the server exposed by the Gateway. This can be a single value or a list of protocols, depending on your chosen Gateway. Choose the convenient protocols from: [‘GRPC’, ‘HTTP’, ‘WEBSOCKET’].</p></li>
<li><p><strong>proxy</strong> – If set, respect the http_proxy and https_proxy environment variables. otherwise, it will unset these proxy variables before start. gRPC seems to prefer no proxy</p></li>
<li><p><strong>py_modules</strong> – <p>The customized python modules need to be imported before loading the gateway</p>
<p>Note that the recommended way is to only import a single module - a simple python file, if your
gateway can be defined in a single file, or an <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code> file if you have multiple files,
which should be structured as a python package.</p>
</p></li>
<li><p><strong>quiet</strong> – If set, then no log will be emitted from this object.</p></li>
<li><p><strong>quiet_error</strong> – If set, then exception stack information will not be added to the log</p></li>
<li><p><strong>reload</strong> – If set, the Gateway will restart while serving if YAML configuration source is changed.</p></li>
<li><p><strong>replicas</strong> – The number of replicas of the Gateway. This replicas will only be applied when converted into Kubernetes YAML</p></li>
<li><p><strong>retries</strong> – Number of retries per gRPC call. If &lt;0 it defaults to max(3, num_replicas)</p></li>
<li><p><strong>runtime_cls</strong> – The runtime class to run inside the Pod</p></li>
<li><p><strong>ssl_certfile</strong> – the path to the certificate file</p></li>
<li><p><strong>ssl_keyfile</strong> – the path to the key file</p></li>
<li><p><strong>stateful</strong> – If set, start consensus module to make sure write operations are properly replicated between all the replicas</p></li>
<li><p><strong>timeout_ctrl</strong> – The timeout in milliseconds of the control request, -1 for waiting forever</p></li>
<li><p><strong>timeout_ready</strong> – The timeout in milliseconds of a Pod waits for the runtime to be ready, -1 for waiting forever</p></li>
<li><p><strong>timeout_send</strong> – The timeout in milliseconds used when sending data requests to Executors, -1 means no timeout, disabled by default</p></li>
<li><p><strong>title</strong> – The title of this HTTP server. It will be used in automatics docs such as Swagger UI.</p></li>
<li><p><strong>traces_exporter_host</strong> – If tracing is enabled, this hostname will be used to configure the trace exporter agent.</p></li>
<li><p><strong>traces_exporter_port</strong> – If tracing is enabled, this port will be used to configure the trace exporter agent.</p></li>
<li><p><strong>tracing</strong> – If set, the sdk implementation of the OpenTelemetry tracer will be available and will be enabled for automatic tracing of requests and customer span creation. Otherwise a no-op implementation will be provided.</p></li>
<li><p><strong>uses</strong> – <p>The config of the gateway, it could be one of the followings:
* the string literal of an Gateway class name
* a Gateway YAML file (.yml, .yaml, .jaml)
* a docker image (must start with <cite>docker://</cite>)
* the string literal of a YAML config (must start with <cite>!</cite> or <a href="#id1"><span class="problematic" id="id2">`</span></a>jtype: <a href="#id3"><span class="problematic" id="id4">`</span></a>)
* the string literal of a JSON config</p>
<p>When use it under Python, one can use the following values additionally:
- a Python dict that represents the config
- a text file stream has <cite>.read()</cite> interface</p>
</p></li>
<li><p><strong>uses_with</strong> – Dictionary of keyword arguments that will override the <cite>with</cite> configuration in <cite>uses</cite></p></li>
<li><p><strong>uvicorn_kwargs</strong> – <p>Dictionary of kwargs arguments that will be passed to Uvicorn server when starting the server</p>
<p>More details can be found in Uvicorn docs: <a class="reference external" href="https://www.uvicorn.org/settings/">https://www.uvicorn.org/settings/</a></p>
</p></li>
<li><p><strong>workspace</strong> – The working directory for any IO operations in this object. If not set, then derive from its parent <cite>workspace</cite>.</p></li>
<li><p><strong>env</strong> – The map of environment variables that are available inside runtime</p></li>
<li><p><strong>inspect</strong> – <p>The strategy on those inspect deployments in the flow.</p>
<p>If <cite>REMOVE</cite> is given then all inspect deployments are removed when building the flow.</p>
</p></li>
<li><p><strong>log_config</strong> – The config name or the absolute path to the YAML config file of the logger used in this object.</p></li>
<li><p><strong>name</strong> – <p>The name of this object.</p>
<p>This will be used in the following places:
- how you refer to this object in Python/YAML/CLI
- visualization
- log message header
- …</p>
<p>When not given, then the default naming strategy will apply.</p>
</p></li>
<li><p><strong>quiet</strong> – If set, then no log will be emitted from this object.</p></li>
<li><p><strong>quiet_error</strong> – If set, then exception stack information will not be added to the log</p></li>
<li><p><strong>reload</strong> – If set, auto-reloading on file changes is enabled: the Flow will restart while blocked if  YAML configuration source is changed. This also applies apply to underlying Executors, if their source code or YAML configuration has changed.</p></li>
<li><p><strong>suppress_root_logging</strong> – If set, then no root handlers will be suppressed from logging.</p></li>
<li><p><strong>uses</strong> – The YAML path represents a flow. It can be either a local file path or a URL.</p></li>
<li><p><strong>workspace</strong> – The working directory for any IO operations in this object. If not set, then derive from its parent <cite>workspace</cite>.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="jina.orchestrate.flow.asyncio.AsyncFlow.add">
<span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">deployment</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#jina.orchestrate.flow.asyncio.AsyncFlow.add" title="Permalink to this definition">#</a></dt>
<dd><p>Add a Deployment to the current Flow object and return the new modified Flow object.
The attribute of the Deployment can be later changed with <code class="xref py py-meth docutils literal notranslate"><span class="pre">set()</span></code> or deleted with <code class="xref py py-meth docutils literal notranslate"><span class="pre">remove()</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>allow_concurrent</strong> – Allow concurrent requests to be processed by the Executor. This is only recommended if the Executor is thread-safe.</p></li>
<li><p><strong>compression</strong> – The compression mechanism used when sending requests from the Head to the WorkerRuntimes. For more details, check <a class="reference external" href="https://grpc.github.io/grpc/python/grpc.html#compression">https://grpc.github.io/grpc/python/grpc.html#compression</a>.</p></li>
<li><p><strong>connection_list</strong> – dictionary JSON with a list of connections to configure</p></li>
<li><p><strong>cors</strong> – If set, a CORS middleware is added to FastAPI frontend to allow cross-origin access.</p></li>
<li><p><strong>description</strong> – The description of this HTTP server. It will be used in automatics docs such as Swagger UI.</p></li>
<li><p><strong>disable_auto_volume</strong> – Do not automatically mount a volume for dockerized Executors.</p></li>
<li><p><strong>docker_kwargs</strong> – <p>Dictionary of kwargs arguments that will be passed to Docker SDK when starting the docker ‘
container.</p>
<p>More details can be found in the Docker SDK docs:  <a class="reference external" href="https://docker-py.readthedocs.io/en/stable/">https://docker-py.readthedocs.io/en/stable/</a></p>
</p></li>
<li><p><strong>entrypoint</strong> – The entrypoint command overrides the ENTRYPOINT in Docker image. when not set then the Docker image ENTRYPOINT takes effective.</p></li>
<li><p><strong>env</strong> – The map of environment variables that are available inside runtime</p></li>
<li><p><strong>exit_on_exceptions</strong> – List of exceptions that will cause the Executor to shut down.</p></li>
<li><p><strong>external</strong> – The Deployment will be considered an external Deployment that has been started independently from the Flow.This Deployment will not be context managed by the Flow.</p></li>
<li><p><strong>floating</strong> – If set, the current Pod/Deployment can not be further chained, and the next <cite>.add()</cite> will chain after the last Pod/Deployment not this current one.</p></li>
<li><p><strong>force_update</strong> – If set, always pull the latest Hub Executor bundle even it exists on local</p></li>
<li><p><strong>gpus</strong> – <p>This argument allows dockerized Jina Executors to discover local gpu devices.</p>
<p>Note,
- To access all gpus, use <cite>–gpus all</cite>.
- To access multiple gpus, e.g. make use of 2 gpus, use <cite>–gpus 2</cite>.
- To access specified gpus based on device id, use <cite>–gpus device=[YOUR-GPU-DEVICE-ID]</cite>
- To access specified gpus based on multiple device id, use <cite>–gpus device=[YOUR-GPU-DEVICE-ID1],device=[YOUR-GPU-DEVICE-ID2]</cite>
- To specify more parameters, use <a href="#id5"><span class="problematic" id="id6">`</span></a>–gpus device=[YOUR-GPU-DEVICE-ID],runtime=nvidia,capabilities=display</p>
</p></li>
<li><p><strong>grpc_channel_options</strong> – Dictionary of kwargs arguments that will be passed to the grpc channel as options when creating a channel, example : {‘grpc.max_send_message_length’: -1}. When max_attempts &gt; 1, the ‘grpc.service_config’ option will not be applicable.</p></li>
<li><p><strong>grpc_metadata</strong> – The metadata to be passed to the gRPC request.</p></li>
<li><p><strong>grpc_server_options</strong> – Dictionary of kwargs arguments that will be passed to the grpc server as options when starting the server, example : {‘grpc.max_send_message_length’: -1}</p></li>
<li><p><strong>host</strong> – The host of the Gateway, which the client should connect to, by default it is 0.0.0.0. In the case of an external Executor (<cite>–external</cite> or <cite>external=True</cite>) this can be a list of hosts.  Then, every resulting address will be considered as one replica of the Executor.</p></li>
<li><p><strong>install_requirements</strong> – If set, try to install <cite>requirements.txt</cite> from the local Executor if exists in the Executor folder. If using Hub, install <cite>requirements.txt</cite> in the Hub Executor bundle to local.</p></li>
<li><p><strong>log_config</strong> – The config name or the absolute path to the YAML config file of the logger used in this object.</p></li>
<li><p><strong>metrics</strong> – If set, the sdk implementation of the OpenTelemetry metrics will be available for default monitoring and custom measurements. Otherwise a no-op implementation will be provided.</p></li>
<li><p><strong>metrics_exporter_host</strong> – If tracing is enabled, this hostname will be used to configure the metrics exporter agent.</p></li>
<li><p><strong>metrics_exporter_port</strong> – If tracing is enabled, this port will be used to configure the metrics exporter agent.</p></li>
<li><p><strong>monitoring</strong> – If set, spawn an http server with a prometheus endpoint to expose metrics</p></li>
<li><p><strong>name</strong> – <p>The name of this object.</p>
<p>This will be used in the following places:
- how you refer to this object in Python/YAML/CLI
- visualization
- log message header
- …</p>
<p>When not given, then the default naming strategy will apply.</p>
</p></li>
<li><p><strong>native</strong> – If set, only native Executors is allowed, and the Executor is always run inside WorkerRuntime.</p></li>
<li><p><strong>no_reduce</strong> – Disable the built-in reduction mechanism. Set this if the reduction is to be handled by the Executor itself by operating on a <cite>docs_matrix</cite> or <cite>docs_map</cite></p></li>
<li><p><strong>output_array_type</strong> – <p>The type of array <cite>tensor</cite> and <cite>embedding</cite> will be serialized to.</p>
<p>Supports the same types as <cite>docarray.to_protobuf(.., ndarray_type=…)</cite>, which can be found
<cite>here &lt;https://docarray.jina.ai/fundamentals/document/serialization/#from-to-protobuf&gt;</cite>.
Defaults to retaining whatever type is returned by the Executor.</p>
</p></li>
<li><p><strong>polling</strong> – The polling strategy of the Deployment and its endpoints (when <cite>shards&gt;1</cite>).
Can be defined for all endpoints of a Deployment or by endpoint.
Define per Deployment:
- ANY: only one (whoever is idle) Pod polls the message
- ALL: all Pods poll the message (like a broadcast)
Define per Endpoint:
JSON dict, {endpoint: PollingType}
{‘/custom’: ‘ALL’, ‘/search’: ‘ANY’, ‘*’: ‘ANY’}</p></li>
<li><p><strong>port</strong> – The port for input data to bind to, default is a random port between [49152, 65535]. In the case of an external Executor (<cite>–external</cite> or <cite>external=True</cite>) this can be a list of ports. Then, every resulting address will be considered as one replica of the Executor.</p></li>
<li><p><strong>port_monitoring</strong> – The port on which the prometheus server is exposed, default is a random port between [49152, 65535]</p></li>
<li><p><strong>prefer_platform</strong> – The preferred target Docker platform. (e.g. “linux/amd64”, “linux/arm64”)</p></li>
<li><p><strong>protocol</strong> – Communication protocol of the server exposed by the Executor. This can be a single value or a list of protocols, depending on your chosen Gateway. Choose the convenient protocols from: [‘GRPC’, ‘HTTP’, ‘WEBSOCKET’].</p></li>
<li><p><strong>py_modules</strong> – <p>The customized python modules need to be imported before loading the executor</p>
<p>Note that the recommended way is to only import a single module - a simple python file, if your
executor can be defined in a single file, or an <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code> file if you have multiple files,
which should be structured as a python package. For more details, please see the
<a class="reference external" href="https://docs.jina.ai/concepts/executor/executor-files/">Executor cookbook</a></p>
</p></li>
<li><p><strong>quiet</strong> – If set, then no log will be emitted from this object.</p></li>
<li><p><strong>quiet_error</strong> – If set, then exception stack information will not be added to the log</p></li>
<li><p><strong>raft_configuration</strong> – Dictionary of kwargs arguments that will be passed to the RAFT node as configuration options when starting the RAFT node.</p></li>
<li><p><strong>reload</strong> – If set, the Executor will restart while serving if YAML configuration source or Executor modules are changed. If YAML configuration is changed, the whole deployment is reloaded and new processes will be restarted. If only Python modules of the Executor have changed, they will be reloaded to the interpreter without restarting process.</p></li>
<li><p><strong>replicas</strong> – The number of replicas in the deployment</p></li>
<li><p><strong>retries</strong> – Number of retries per gRPC call. If &lt;0 it defaults to max(3, num_replicas)</p></li>
<li><p><strong>runtime_cls</strong> – The runtime class to run inside the Pod</p></li>
<li><p><strong>shards</strong> – The number of shards in the deployment running at the same time. For more details check <a class="reference external" href="https://docs.jina.ai/concepts/flow/create-flow/#complex-flow-topologies">https://docs.jina.ai/concepts/flow/create-flow/#complex-flow-topologies</a></p></li>
<li><p><strong>ssl_certfile</strong> – the path to the certificate file</p></li>
<li><p><strong>ssl_keyfile</strong> – the path to the key file</p></li>
<li><p><strong>stateful</strong> – If set, start consensus module to make sure write operations are properly replicated between all the replicas</p></li>
<li><p><strong>timeout_ctrl</strong> – The timeout in milliseconds of the control request, -1 for waiting forever</p></li>
<li><p><strong>timeout_ready</strong> – The timeout in milliseconds of a Pod waits for the runtime to be ready, -1 for waiting forever</p></li>
<li><p><strong>timeout_send</strong> – The timeout in milliseconds used when sending data requests to Executors, -1 means no timeout, disabled by default</p></li>
<li><p><strong>title</strong> – The title of this HTTP server. It will be used in automatics docs such as Swagger UI.</p></li>
<li><p><strong>tls</strong> – If set, connect to deployment using tls encryption</p></li>
<li><p><strong>traces_exporter_host</strong> – If tracing is enabled, this hostname will be used to configure the trace exporter agent.</p></li>
<li><p><strong>traces_exporter_port</strong> – If tracing is enabled, this port will be used to configure the trace exporter agent.</p></li>
<li><p><strong>tracing</strong> – If set, the sdk implementation of the OpenTelemetry tracer will be available and will be enabled for automatic tracing of requests and customer span creation. Otherwise a no-op implementation will be provided.</p></li>
<li><p><strong>uses</strong> – <p>The config of the executor, it could be one of the followings:
* the string literal of an Executor class name
* an Executor YAML file (.yml, .yaml, .jaml)
* a Jina Hub Executor (must start with <cite>jinahub://</cite> or <cite>jinahub+docker://</cite>)
* a docker image (must start with <cite>docker://</cite>)
* the string literal of a YAML config (must start with <cite>!</cite> or <a href="#id7"><span class="problematic" id="id8">`</span></a>jtype: <a href="#id9"><span class="problematic" id="id10">`</span></a>)
* the string literal of a JSON config</p>
<p>When use it under Python, one can use the following values additionally:
- a Python dict that represents the config
- a text file stream has <cite>.read()</cite> interface</p>
</p></li>
<li><p><strong>uses_after</strong> – The executor attached after the Pods described by –uses, typically used for receiving from all shards, accepted type follows <cite>–uses</cite>. This argument only applies for sharded Deployments (shards &gt; 1).</p></li>
<li><p><strong>uses_after_address</strong> – The address of the uses-before runtime</p></li>
<li><p><strong>uses_before</strong> – The executor attached before the Pods described by –uses, typically before sending to all shards, accepted type follows <cite>–uses</cite>. This argument only applies for sharded Deployments (shards &gt; 1).</p></li>
<li><p><strong>uses_before_address</strong> – The address of the uses-before runtime</p></li>
<li><p><strong>uses_dynamic_batching</strong> – Dictionary of keyword arguments that will override the <cite>dynamic_batching</cite> configuration in <cite>uses</cite></p></li>
<li><p><strong>uses_metas</strong> – Dictionary of keyword arguments that will override the <cite>metas</cite> configuration in <cite>uses</cite></p></li>
<li><p><strong>uses_requests</strong> – Dictionary of keyword arguments that will override the <cite>requests</cite> configuration in <cite>uses</cite></p></li>
<li><p><strong>uses_with</strong> – Dictionary of keyword arguments that will override the <cite>with</cite> configuration in <cite>uses</cite></p></li>
<li><p><strong>uvicorn_kwargs</strong> – <p>Dictionary of kwargs arguments that will be passed to Uvicorn server when starting the server</p>
<p>More details can be found in Uvicorn docs: <a class="reference external" href="https://www.uvicorn.org/settings/">https://www.uvicorn.org/settings/</a></p>
</p></li>
<li><p><strong>volumes</strong> – <p>The path on the host to be mounted inside the container.</p>
<p>Note,
- If separated by <cite>:</cite>, then the first part will be considered as the local host path and the second part is the path in the container system.
- If no split provided, then the basename of that directory will be mounted into container’s root path, e.g. <cite>–volumes=”/user/test/my-workspace”</cite> will be mounted into <cite>/my-workspace</cite> inside the container.
- All volumes are mounted with read-write mode.</p>
</p></li>
<li><p><strong>when</strong> – The condition that the documents need to fulfill before reaching the Executor.The condition can be defined in the form of a <cite>DocArray query condition &lt;https://docarray.jina.ai/fundamentals/documentarray/find/#query-by-conditions&gt;</cite></p></li>
<li><p><strong>workspace</strong> – The working directory for any IO operations in this object. If not set, then derive from its parent <cite>workspace</cite>.</p></li>
<li><p><strong>needs</strong> – the name of the Deployment(s) that this Deployment receives data from. One can also use “gateway” to indicate the connection with the gateway.</p></li>
<li><p><strong>deployment_role</strong> – the role of the Deployment, used for visualization and route planning</p></li>
<li><p><strong>copy_flow</strong> – when set to true, then always copy the current Flow and do the modification on top of it then return, otherwise, do in-line modification</p></li>
<li><p><strong>kwargs</strong> – other keyword-value arguments that the Deployment CLI supports</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a (new) Flow object with modification</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="../jina.orchestrate.flow.base/#jina.orchestrate.flow.base.Flow" title="jina.orchestrate.flow.base.Flow"><code class="xref py py-class docutils literal notranslate"><span class="pre">Flow</span></code></a>, <a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow" title="jina.orchestrate.flow.asyncio.AsyncFlow"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncFlow</span></code></a>]</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a (new) Flow object with modification</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="jina.orchestrate.flow.asyncio.AsyncFlow.address_private">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">address_private</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#jina.orchestrate.flow.asyncio.AsyncFlow.address_private" title="Permalink to this definition">#</a></dt>
<dd><p>Return the private IP address of the gateway for connecting from other machine in the same network</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="jina.orchestrate.flow.asyncio.AsyncFlow.address_public">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">address_public</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#jina.orchestrate.flow.asyncio.AsyncFlow.address_public" title="Permalink to this definition">#</a></dt>
<dd><p>Return the public IP address of the gateway for connecting from other machine in the public network</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jina.orchestrate.flow.asyncio.AsyncFlow.block">
<span class="sig-name descname"><span class="pre">block</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stop_event</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#jina.orchestrate.flow.asyncio.AsyncFlow.block" title="Permalink to this definition">#</a></dt>
<dd><p>Block the Flow until <cite>stop_event</cite> is set or user hits KeyboardInterrupt</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>stop_event</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Event</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Event</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – a threading event or a multiprocessing event that onces set will resume the control Flow
to main thread.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jina.orchestrate.flow.asyncio.AsyncFlow.build">
<span class="sig-name descname"><span class="pre">build</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">copy_flow</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">disable_build_sandbox</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#jina.orchestrate.flow.asyncio.AsyncFlow.build" title="Permalink to this definition">#</a></dt>
<dd><p>Build the current Flow and make it ready to use</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>No need to manually call it since 0.0.8. When using Flow with the
context manager, or using <a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.start" title="jina.orchestrate.flow.asyncio.AsyncFlow.start"><code class="xref py py-meth docutils literal notranslate"><span class="pre">start()</span></code></a>, <a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.build" title="jina.orchestrate.flow.asyncio.AsyncFlow.build"><code class="xref py py-meth docutils literal notranslate"><span class="pre">build()</span></code></a> will be invoked.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>copy_flow</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – when set to true, then always copy the current Flow and do the modification on top of it then return, otherwise, do in-line modification</p></li>
<li><p><strong>disable_build_sandbox</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – when set to true, the sandbox building part will be skipped, will be used by <cite>plot</cite></p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="../jina.orchestrate.flow.base/#jina.orchestrate.flow.base.Flow" title="jina.orchestrate.flow.base.Flow"><code class="xref py py-class docutils literal notranslate"><span class="pre">Flow</span></code></a></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>the current Flow (by default)</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">copy_flow=True</span></code> is recommended if you are building the same Flow multiple times in a row. e.g.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">Flow</span><span class="p">()</span>
<span class="k">with</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">index</span><span class="p">()</span>

<span class="k">with</span> <span class="n">f</span><span class="o">.</span><span class="n">build</span><span class="p">(</span><span class="n">copy_flow</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">as</span> <span class="n">fl</span><span class="p">:</span>
    <span class="n">fl</span><span class="o">.</span><span class="n">search</span><span class="p">()</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jina.orchestrate.flow.asyncio.AsyncFlow.callback">
<span class="sig-name descname"><span class="pre">callback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#jina.orchestrate.flow.asyncio.AsyncFlow.callback" title="Permalink to this definition">#</a></dt>
<dd><p>Registers an arbitrary callback and arguments.</p>
<p>Cannot suppress exceptions.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="jina.orchestrate.flow.asyncio.AsyncFlow.client">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">client</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="../jina.clients.base/#jina.clients.base.BaseClient" title="jina.clients.base.BaseClient"><span class="pre">BaseClient</span></a></em><a class="headerlink" href="#jina.orchestrate.flow.asyncio.AsyncFlow.client" title="Permalink to this definition">#</a></dt>
<dd><p>Return a <code class="xref py py-class docutils literal notranslate"><span class="pre">BaseClient</span></code> object attach to this Flow.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="../jina.clients.base/#jina.clients.base.BaseClient" title="jina.clients.base.BaseClient"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseClient</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jina.orchestrate.flow.asyncio.AsyncFlow.close">
<span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#jina.orchestrate.flow.asyncio.AsyncFlow.close" title="Permalink to this definition">#</a></dt>
<dd><p>Immediately unwind the context stack.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jina.orchestrate.flow.asyncio.AsyncFlow.config_gateway">
<span class="sig-name descname"><span class="pre">config_gateway</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#jina.orchestrate.flow.asyncio.AsyncFlow.config_gateway" title="Permalink to this definition">#</a></dt>
<dd><p>Configure the Gateway inside a Flow. The Gateway exposes your Flow logic as a service to the internet according to the protocol and configuration you choose.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>compression</strong> – The compression mechanism used when sending requests from the Head to the WorkerRuntimes. For more details, check <a class="reference external" href="https://grpc.github.io/grpc/python/grpc.html#compression">https://grpc.github.io/grpc/python/grpc.html#compression</a>.</p></li>
<li><p><strong>cors</strong> – If set, a CORS middleware is added to FastAPI frontend to allow cross-origin access.</p></li>
<li><p><strong>deployments_addresses</strong> – JSON dictionary with the input addresses of each Deployment</p></li>
<li><p><strong>deployments_metadata</strong> – JSON dictionary with the request metadata for each Deployment</p></li>
<li><p><strong>deployments_no_reduce</strong> – list JSON disabling the built-in merging mechanism for each Deployment listed</p></li>
<li><p><strong>description</strong> – The description of this HTTP server. It will be used in automatics docs such as Swagger UI.</p></li>
<li><p><strong>docker_kwargs</strong> – <p>Dictionary of kwargs arguments that will be passed to Docker SDK when starting the docker ‘
container.</p>
<p>More details can be found in the Docker SDK docs:  <a class="reference external" href="https://docker-py.readthedocs.io/en/stable/">https://docker-py.readthedocs.io/en/stable/</a></p>
</p></li>
<li><p><strong>entrypoint</strong> – The entrypoint command overrides the ENTRYPOINT in Docker image. when not set then the Docker image ENTRYPOINT takes effective.</p></li>
<li><p><strong>env</strong> – The map of environment variables that are available inside runtime</p></li>
<li><p><strong>expose_endpoints</strong> – A JSON string that represents a map from executor endpoints (<cite>&#64;requests(on=…)</cite>) to HTTP endpoints.</p></li>
<li><p><strong>expose_graphql_endpoint</strong> – If set, /graphql endpoint is added to HTTP interface.</p></li>
<li><p><strong>floating</strong> – If set, the current Pod/Deployment can not be further chained, and the next <cite>.add()</cite> will chain after the last Pod/Deployment not this current one.</p></li>
<li><p><strong>graph_conditions</strong> – Dictionary stating which filtering conditions each Executor in the graph requires to receive Documents.</p></li>
<li><p><strong>graph_description</strong> – Routing graph for the gateway</p></li>
<li><p><strong>grpc_channel_options</strong> – Dictionary of kwargs arguments that will be passed to the grpc channel as options when creating a channel, example : {‘grpc.max_send_message_length’: -1}. When max_attempts &gt; 1, the ‘grpc.service_config’ option will not be applicable.</p></li>
<li><p><strong>grpc_server_options</strong> – Dictionary of kwargs arguments that will be passed to the grpc server as options when starting the server, example : {‘grpc.max_send_message_length’: -1}</p></li>
<li><p><strong>host</strong> – The host address of the runtime, by default it is 0.0.0.0.</p></li>
<li><p><strong>log_config</strong> – The config name or the absolute path to the YAML config file of the logger used in this object.</p></li>
<li><p><strong>metrics</strong> – If set, the sdk implementation of the OpenTelemetry metrics will be available for default monitoring and custom measurements. Otherwise a no-op implementation will be provided.</p></li>
<li><p><strong>metrics_exporter_host</strong> – If tracing is enabled, this hostname will be used to configure the metrics exporter agent.</p></li>
<li><p><strong>metrics_exporter_port</strong> – If tracing is enabled, this port will be used to configure the metrics exporter agent.</p></li>
<li><p><strong>monitoring</strong> – If set, spawn an http server with a prometheus endpoint to expose metrics</p></li>
<li><p><strong>name</strong> – <p>The name of this object.</p>
<p>This will be used in the following places:
- how you refer to this object in Python/YAML/CLI
- visualization
- log message header
- …</p>
<p>When not given, then the default naming strategy will apply.</p>
</p></li>
<li><p><strong>no_crud_endpoints</strong> – <p>If set, <cite>/index</cite>, <cite>/search</cite>, <cite>/update</cite>, <cite>/delete</cite> endpoints are removed from HTTP interface.</p>
<p>Any executor that has <cite>&#64;requests(on=…)</cite> bound with those values will receive data requests.</p>
</p></li>
<li><p><strong>no_debug_endpoints</strong> – If set, <cite>/status</cite> <cite>/post</cite> endpoints are removed from HTTP interface.</p></li>
<li><p><strong>port</strong> – The port for input data to bind the gateway server to, by default, random ports between range [49152, 65535] will be assigned. The port argument can be either 1 single value in case only 1 protocol is used or multiple values when many protocols are used.</p></li>
<li><p><strong>port_monitoring</strong> – The port on which the prometheus server is exposed, default is a random port between [49152, 65535]</p></li>
<li><p><strong>prefetch</strong> – <p>Number of requests fetched from the client before feeding into the first Executor.</p>
<p>Used to control the speed of data input into a Flow. 0 disables prefetch (1000 requests is the default)</p>
</p></li>
<li><p><strong>protocol</strong> – Communication protocol of the server exposed by the Gateway. This can be a single value or a list of protocols, depending on your chosen Gateway. Choose the convenient protocols from: [‘GRPC’, ‘HTTP’, ‘WEBSOCKET’].</p></li>
<li><p><strong>proxy</strong> – If set, respect the http_proxy and https_proxy environment variables. otherwise, it will unset these proxy variables before start. gRPC seems to prefer no proxy</p></li>
<li><p><strong>py_modules</strong> – <p>The customized python modules need to be imported before loading the gateway</p>
<p>Note that the recommended way is to only import a single module - a simple python file, if your
gateway can be defined in a single file, or an <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code> file if you have multiple files,
which should be structured as a python package.</p>
</p></li>
<li><p><strong>quiet</strong> – If set, then no log will be emitted from this object.</p></li>
<li><p><strong>quiet_error</strong> – If set, then exception stack information will not be added to the log</p></li>
<li><p><strong>reload</strong> – If set, the Gateway will restart while serving if YAML configuration source is changed.</p></li>
<li><p><strong>replicas</strong> – The number of replicas of the Gateway. This replicas will only be applied when converted into Kubernetes YAML</p></li>
<li><p><strong>retries</strong> – Number of retries per gRPC call. If &lt;0 it defaults to max(3, num_replicas)</p></li>
<li><p><strong>runtime_cls</strong> – The runtime class to run inside the Pod</p></li>
<li><p><strong>ssl_certfile</strong> – the path to the certificate file</p></li>
<li><p><strong>ssl_keyfile</strong> – the path to the key file</p></li>
<li><p><strong>stateful</strong> – If set, start consensus module to make sure write operations are properly replicated between all the replicas</p></li>
<li><p><strong>timeout_ctrl</strong> – The timeout in milliseconds of the control request, -1 for waiting forever</p></li>
<li><p><strong>timeout_ready</strong> – The timeout in milliseconds of a Pod waits for the runtime to be ready, -1 for waiting forever</p></li>
<li><p><strong>timeout_send</strong> – The timeout in milliseconds used when sending data requests to Executors, -1 means no timeout, disabled by default</p></li>
<li><p><strong>title</strong> – The title of this HTTP server. It will be used in automatics docs such as Swagger UI.</p></li>
<li><p><strong>traces_exporter_host</strong> – If tracing is enabled, this hostname will be used to configure the trace exporter agent.</p></li>
<li><p><strong>traces_exporter_port</strong> – If tracing is enabled, this port will be used to configure the trace exporter agent.</p></li>
<li><p><strong>tracing</strong> – If set, the sdk implementation of the OpenTelemetry tracer will be available and will be enabled for automatic tracing of requests and customer span creation. Otherwise a no-op implementation will be provided.</p></li>
<li><p><strong>uses</strong> – <p>The config of the gateway, it could be one of the followings:
* the string literal of an Gateway class name
* a Gateway YAML file (.yml, .yaml, .jaml)
* a docker image (must start with <cite>docker://</cite>)
* the string literal of a YAML config (must start with <cite>!</cite> or <a href="#id11"><span class="problematic" id="id12">`</span></a>jtype: <a href="#id13"><span class="problematic" id="id14">`</span></a>)
* the string literal of a JSON config</p>
<p>When use it under Python, one can use the following values additionally:
- a Python dict that represents the config
- a text file stream has <cite>.read()</cite> interface</p>
</p></li>
<li><p><strong>uses_with</strong> – Dictionary of keyword arguments that will override the <cite>with</cite> configuration in <cite>uses</cite></p></li>
<li><p><strong>uvicorn_kwargs</strong> – <p>Dictionary of kwargs arguments that will be passed to Uvicorn server when starting the server</p>
<p>More details can be found in Uvicorn docs: <a class="reference external" href="https://www.uvicorn.org/settings/">https://www.uvicorn.org/settings/</a></p>
</p></li>
<li><p><strong>workspace</strong> – The working directory for any IO operations in this object. If not set, then derive from its parent <cite>workspace</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="../jina.orchestrate.flow.base/#jina.orchestrate.flow.base.Flow" title="jina.orchestrate.flow.base.Flow"><code class="xref py py-class docutils literal notranslate"><span class="pre">Flow</span></code></a>, <a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow" title="jina.orchestrate.flow.asyncio.AsyncFlow"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncFlow</span></code></a>]</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>the new Flow object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jina.orchestrate.flow.asyncio.AsyncFlow.delete">
<span class="sig-name descname"><span class="pre">delete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs:</span> <span class="pre">~typing.Optional[InputType]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">on_done:</span> <span class="pre">~typing.Optional[CallbackFnType]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">on_error:</span> <span class="pre">~typing.Optional[CallbackFnType]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">on_always:</span> <span class="pre">~typing.Optional[CallbackFnType]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters:</span> <span class="pre">~typing.Optional[~typing.Union[~typing.Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">BaseModel]]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_executor:</span> <span class="pre">~typing.Optional[str]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request_size:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_progress:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">continue_on_error:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_responses:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_attempts:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_backoff:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_backoff:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backoff_multiplier:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">1.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">results_in_order:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stream:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefetch:</span> <span class="pre">~typing.Optional[int]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_type:</span> <span class="pre">~typing.Type[~docarray.array.document.DocumentArray]</span> <span class="pre">=</span> <span class="pre">&lt;class</span> <span class="pre">'docarray.array.document.DocumentArray'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">AsyncGenerator</span><span class="p"><span class="pre">[</span></span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">DocumentArray</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="../jina.types.request.data/#jina.types.request.data.Response" title="jina.types.request.data.Response"><span class="pre">Response</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#jina.orchestrate.flow.asyncio.AsyncFlow.delete" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jina.orchestrate.flow.asyncio.AsyncFlow.dry_run">
<span class="sig-name descname"><span class="pre">dry_run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#jina.orchestrate.flow.asyncio.AsyncFlow.dry_run" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jina.orchestrate.flow.asyncio.AsyncFlow.enter_context">
<span class="sig-name descname"><span class="pre">enter_context</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cm</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#jina.orchestrate.flow.asyncio.AsyncFlow.enter_context" title="Permalink to this definition">#</a></dt>
<dd><p>Enters the supplied context manager.</p>
<p>If successful, also pushes its __exit__ method as a callback and
returns the result of the __enter__ method.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="jina.orchestrate.flow.asyncio.AsyncFlow.env">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">env</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#jina.orchestrate.flow.asyncio.AsyncFlow.env" title="Permalink to this definition">#</a></dt>
<dd><p>Get all envs to be set in the Flow</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>]</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>envs as dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jina.orchestrate.flow.asyncio.AsyncFlow.expose_endpoint">
<span class="sig-name descname"><span class="pre">expose_endpoint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exec_endpoint</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#jina.orchestrate.flow.asyncio.AsyncFlow.expose_endpoint" title="Permalink to this definition">#</a></dt>
<dd><p>Expose an Executor’s endpoint (defined by <cite>&#64;requests(on=…)</cite>) to HTTP endpoint for easier access.</p>
<p>After expose, you can send data request directly to <cite>http://hostname:port/endpoint</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>exec_endpoint</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – the endpoint string, by convention starts with <cite>/</cite></p>
</dd>
</dl>
<p># noqa: DAR101
# noqa: DAR102</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="jina.orchestrate.flow.asyncio.AsyncFlow.gateway_args">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">gateway_args</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Namespace</span></em><a class="headerlink" href="#jina.orchestrate.flow.asyncio.AsyncFlow.gateway_args" title="Permalink to this definition">#</a></dt>
<dd><p>Get Gateway settings.</p>
<p># noqa: DAR201</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Namespace</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jina.orchestrate.flow.asyncio.AsyncFlow.gather_inspect">
<span class="sig-name descname"><span class="pre">gather_inspect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'gather_inspect'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_last_deployment</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#jina.orchestrate.flow.asyncio.AsyncFlow.gather_inspect" title="Permalink to this definition">#</a></dt>
<dd><p>Gather all inspect Deployments output into one Deployment. When the Flow has no inspect Deployment then the Flow itself
is returned.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If <code class="docutils literal notranslate"><span class="pre">--no-inspect</span></code> is <strong>not</strong> given, then <a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.gather_inspect" title="jina.orchestrate.flow.asyncio.AsyncFlow.gather_inspect"><code class="xref py py-meth docutils literal notranslate"><span class="pre">gather_inspect()</span></code></a> is auto called before <a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.build" title="jina.orchestrate.flow.asyncio.AsyncFlow.build"><code class="xref py py-meth docutils literal notranslate"><span class="pre">build()</span></code></a>. So
in general you don’t need to manually call <a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.gather_inspect" title="jina.orchestrate.flow.asyncio.AsyncFlow.gather_inspect"><code class="xref py py-meth docutils literal notranslate"><span class="pre">gather_inspect()</span></code></a>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – the name of the gather Deployment</p></li>
<li><p><strong>include_last_deployment</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – if to include the last modified Deployment in the Flow</p></li>
<li><p><strong>args</strong> – args for .add()</p></li>
<li><p><strong>kwargs</strong> – kwargs for .add()</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="../jina.orchestrate.flow.base/#jina.orchestrate.flow.base.Flow" title="jina.orchestrate.flow.base.Flow"><code class="xref py py-class docutils literal notranslate"><span class="pre">Flow</span></code></a></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>the modified Flow or the copy of it</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.inspect" title="jina.orchestrate.flow.asyncio.AsyncFlow.inspect"><code class="xref py py-meth docutils literal notranslate"><span class="pre">inspect()</span></code></a></p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="jina.orchestrate.flow.asyncio.AsyncFlow.host">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">host</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#jina.orchestrate.flow.asyncio.AsyncFlow.host" title="Permalink to this definition">#</a></dt>
<dd><p>Return the local address of the gateway
.. # noqa: DAR201</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jina.orchestrate.flow.asyncio.AsyncFlow.index">
<span class="sig-name descname"><span class="pre">index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs:</span> <span class="pre">~typing.Optional[InputType]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">on_done:</span> <span class="pre">~typing.Optional[CallbackFnType]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">on_error:</span> <span class="pre">~typing.Optional[CallbackFnType]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">on_always:</span> <span class="pre">~typing.Optional[CallbackFnType]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters:</span> <span class="pre">~typing.Optional[~typing.Union[~typing.Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">BaseModel]]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_executor:</span> <span class="pre">~typing.Optional[str]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request_size:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_progress:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">continue_on_error:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_responses:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_attempts:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_backoff:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_backoff:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backoff_multiplier:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">1.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">results_in_order:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stream:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefetch:</span> <span class="pre">~typing.Optional[int]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_type:</span> <span class="pre">~typing.Type[~docarray.array.document.DocumentArray]</span> <span class="pre">=</span> <span class="pre">&lt;class</span> <span class="pre">'docarray.array.document.DocumentArray'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">AsyncGenerator</span><span class="p"><span class="pre">[</span></span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">DocumentArray</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="../jina.types.request.data/#jina.types.request.data.Response" title="jina.types.request.data.Response"><span class="pre">Response</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#jina.orchestrate.flow.asyncio.AsyncFlow.index" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jina.orchestrate.flow.asyncio.AsyncFlow.inspect">
<span class="sig-name descname"><span class="pre">inspect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'inspect'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#jina.orchestrate.flow.asyncio.AsyncFlow.inspect" title="Permalink to this definition">#</a></dt>
<dd><p>Add an inspection on the last changed Deployment in the Flow</p>
<p>Internally, it adds two Deployments to the Flow. But don’t worry, the overhead is minimized and you
can remove them by simply using <cite>Flow(inspect=FlowInspectType.REMOVE)</cite> before using the Flow.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Flow<span class="w"> </span>--<span class="w"> </span>PUB-SUB<span class="w"> </span>--<span class="w"> </span>Deployment<span class="o">(</span>_pass<span class="o">)</span><span class="w"> </span>--<span class="w"> </span>Flow
<span class="w">        </span><span class="p">|</span>
<span class="w">        </span>--<span class="w"> </span>PUB-SUB<span class="w"> </span>--<span class="w"> </span>InspectDeployment<span class="w"> </span><span class="o">(</span>Hanging<span class="o">)</span>
</pre></div>
</div>
<p>In this way, <code class="xref py py-class docutils literal notranslate"><span class="pre">InspectDeployment</span></code> looks like a simple <code class="docutils literal notranslate"><span class="pre">_pass</span></code> from outside and
does not introduce side-effects (e.g. changing the socket type) to the original Flow.
The original incoming and outgoing socket types are preserved.</p>
<p>This function is very handy for introducing an Evaluator into the Flow.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.gather_inspect" title="jina.orchestrate.flow.asyncio.AsyncFlow.gather_inspect"><code class="xref py py-meth docutils literal notranslate"><span class="pre">gather_inspect()</span></code></a></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – name of the Deployment</p></li>
<li><p><strong>args</strong> – args for .add()</p></li>
<li><p><strong>kwargs</strong> – kwargs for .add()</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="../jina.orchestrate.flow.base/#jina.orchestrate.flow.base.Flow" title="jina.orchestrate.flow.base.Flow"><code class="xref py py-class docutils literal notranslate"><span class="pre">Flow</span></code></a></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>the new instance of the Flow</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jina.orchestrate.flow.asyncio.AsyncFlow.is_flow_ready">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_flow_ready</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#jina.orchestrate.flow.asyncio.AsyncFlow.is_flow_ready" title="Permalink to this definition">#</a></dt>
<dd><p>Check if the Flow is ready to receive requests</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>kwargs</strong> – potential kwargs received passed from the public interface</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>boolean indicating the health/readiness of the Flow</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jina.orchestrate.flow.asyncio.AsyncFlow.is_valid_jaml">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_valid_jaml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#jina.orchestrate.flow.asyncio.AsyncFlow.is_valid_jaml" title="Permalink to this definition">#</a></dt>
<dd><p>Verifies the yaml syntax of a given object by first serializing it and attempting to deserialize and catch
parser errors
:type obj: <code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>
:param obj: yaml object
:rtype: <code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>
:return: whether the syntax is valid or not</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jina.orchestrate.flow.asyncio.AsyncFlow.load_config">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">load_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_py_modules</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">substitute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uses_with</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uses_metas</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uses_requests</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_search_paths</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">py_modules</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">runtime_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uses_dynamic_batching</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">needs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_gateway</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noblock_on_start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#jina.orchestrate.flow.asyncio.AsyncFlow.load_config" title="Permalink to this definition">#</a></dt>
<dd><p>A high-level interface for loading configuration with features
of loading extra py_modules, substitute env &amp; context variables. Any class that
implements <code class="xref py py-class docutils literal notranslate"><span class="pre">JAMLCompatible</span></code> mixin can enjoy this feature, e.g. <code class="xref py py-class docutils literal notranslate"><span class="pre">BaseFlow</span></code>,
<code class="xref py py-class docutils literal notranslate"><span class="pre">BaseExecutor</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">BaseGateway</span></code> and all their subclasses.</p>
<dl class="simple">
<dt>Support substitutions in YAML:</dt><dd><ul class="simple">
<li><p>Environment variables: <code class="docutils literal notranslate"><span class="pre">${{</span> <span class="pre">ENV.VAR</span> <span class="pre">}}</span></code> (recommended), <code class="docutils literal notranslate"><span class="pre">$VAR</span></code> (deprecated).</p></li>
<li><p>Context dict (<code class="docutils literal notranslate"><span class="pre">context</span></code>): <code class="docutils literal notranslate"><span class="pre">${{</span> <span class="pre">CONTEXT.VAR</span> <span class="pre">}}``(recommended),</span> <span class="pre">``${{</span> <span class="pre">VAR</span> <span class="pre">}}</span></code>.</p></li>
<li><p>Internal reference via <code class="docutils literal notranslate"><span class="pre">this</span></code> and <code class="docutils literal notranslate"><span class="pre">root</span></code>: <code class="docutils literal notranslate"><span class="pre">${{this.same_level_key}}</span></code>, <code class="docutils literal notranslate"><span class="pre">${{root.root_level_key}}</span></code></p></li>
</ul>
</dd>
</dl>
<p>Substitutions are carried in the order and multiple passes to resolve variables with best effort.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="kt">!BaseEncoder</span>
<span class="nt">metas</span><span class="p">:</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{VAR_A}}</span><span class="w">  </span><span class="c1"># env or context variables</span>
<span class="w">    </span><span class="nt">workspace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-${{this.name}}</span><span class="w">  </span><span class="c1"># internal reference</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># load Executor from yaml file</span>
<span class="n">BaseExecutor</span><span class="o">.</span><span class="n">load_config</span><span class="p">(</span><span class="s1">&#39;a.yml&#39;</span><span class="p">)</span>

<span class="c1"># load Executor from yaml file and substitute environment variables</span>
<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;VAR_A&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;hello-world&#39;</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">BaseExecutor</span><span class="o">.</span><span class="n">load_config</span><span class="p">(</span><span class="s1">&#39;a.yml&#39;</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">b</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;hello-world&#39;</span>

<span class="c1"># load Executor from yaml file and substitute variables from a dict</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">BaseExecutor</span><span class="o">.</span><span class="n">load_config</span><span class="p">(</span><span class="s1">&#39;a.yml&#39;</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;VAR_A&#39;</span><span class="p">:</span> <span class="s1">&#39;hello-world&#39;</span><span class="p">})</span>
<span class="k">assert</span> <span class="n">b</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;hello-world&#39;</span>

<span class="c1"># disable substitute</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">BaseExecutor</span><span class="o">.</span><span class="n">load_config</span><span class="p">(</span><span class="s1">&#39;a.yml&#39;</span><span class="p">,</span> <span class="n">substitute</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">TextIO</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>]) – the multi-kind source of the configs.</p></li>
<li><p><strong>allow_py_modules</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – allow importing plugins specified by <code class="docutils literal notranslate"><span class="pre">py_modules</span></code> in YAML at any levels</p></li>
<li><p><strong>substitute</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – substitute environment, internal reference and context variables.</p></li>
<li><p><strong>context</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>]]) – context replacement variables in a dict, the value of the dict is the replacement.</p></li>
<li><p><strong>uses_with</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>]) – dictionary of parameters to overwrite from the default config’s with field</p></li>
<li><p><strong>uses_metas</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>]) – dictionary of parameters to overwrite from the default config’s metas field</p></li>
<li><p><strong>uses_requests</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>]) – dictionary of parameters to overwrite from the default config’s requests field</p></li>
<li><p><strong>extra_search_paths</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]]) – extra paths used when looking for executor yaml files</p></li>
<li><p><strong>py_modules</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – Optional py_module from which the object need to be loaded</p></li>
<li><p><strong>runtime_args</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>]]) – Optional dictionary of parameters runtime_args to be directly passed without being parsed into a yaml config</p></li>
<li><p><strong>uses_dynamic_batching</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>]) – dictionary of parameters to overwrite from the default config’s dynamic_batching field</p></li>
<li><p><strong>needs</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Set</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]]) – the name of the Deployment(s) that this Deployment receives data from. One can also use “gateway” to indicate the connection with the gateway.</p></li>
<li><p><strong>include_gateway</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – Defines if the gateway deployment should be included, defaults to True</p></li>
<li><p><strong>noblock_on_start</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – If set, starting a Pod/Deployment does not block the thread/process. It then relies on ‘
‘<cite>wait_start_success</cite> at outer function for the postpone check.</p></li>
<li><p><strong>kwargs</strong> – kwargs for parse_config_source</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="../jina.jaml/#jina.jaml.JAMLCompatible" title="jina.jaml.JAMLCompatible"><code class="xref py py-class docutils literal notranslate"><span class="pre">JAMLCompatible</span></code></a></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">JAMLCompatible</span></code> object</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="jina.orchestrate.flow.asyncio.AsyncFlow.monitoring">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">monitoring</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#jina.orchestrate.flow.asyncio.AsyncFlow.monitoring" title="Permalink to this definition">#</a></dt>
<dd><p>Return if the monitoring is enabled
.. # noqa: DAR201</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jina.orchestrate.flow.asyncio.AsyncFlow.needs">
<span class="sig-name descname"><span class="pre">needs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">needs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'joiner'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#jina.orchestrate.flow.asyncio.AsyncFlow.needs" title="Permalink to this definition">#</a></dt>
<dd><p>Add a blocker to the Flow, wait until all pods defined in <strong>needs</strong> completed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>needs</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]]) – list of service names to wait</p></li>
<li><p><strong>name</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – the name of this joiner, by default is <code class="docutils literal notranslate"><span class="pre">joiner</span></code></p></li>
<li><p><strong>args</strong> – additional positional arguments forwarded to the add function</p></li>
<li><p><strong>kwargs</strong> – additional key value arguments forwarded to the add function</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="../jina.orchestrate.flow.base/#jina.orchestrate.flow.base.Flow" title="jina.orchestrate.flow.base.Flow"><code class="xref py py-class docutils literal notranslate"><span class="pre">Flow</span></code></a></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>the modified Flow</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jina.orchestrate.flow.asyncio.AsyncFlow.needs_all">
<span class="sig-name descname"><span class="pre">needs_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'joiner'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#jina.orchestrate.flow.asyncio.AsyncFlow.needs_all" title="Permalink to this definition">#</a></dt>
<dd><p>Collect all floating Deployments so far and add a blocker to the Flow; wait until all handing pods completed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – the name of this joiner (default is <code class="docutils literal notranslate"><span class="pre">joiner</span></code>)</p></li>
<li><p><strong>args</strong> – additional positional arguments which are forwarded to the add and needs function</p></li>
<li><p><strong>kwargs</strong> – additional key value arguments which are forwarded to the add and needs function</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="../jina.orchestrate.flow.base/#jina.orchestrate.flow.base.Flow" title="jina.orchestrate.flow.base.Flow"><code class="xref py py-class docutils literal notranslate"><span class="pre">Flow</span></code></a></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>the modified Flow</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="jina.orchestrate.flow.asyncio.AsyncFlow.num_deployments">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">num_deployments</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#jina.orchestrate.flow.asyncio.AsyncFlow.num_deployments" title="Permalink to this definition">#</a></dt>
<dd><p>Get the number of Deployments in this Flow</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="jina.orchestrate.flow.asyncio.AsyncFlow.num_pods">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">num_pods</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#jina.orchestrate.flow.asyncio.AsyncFlow.num_pods" title="Permalink to this definition">#</a></dt>
<dd><p>Get the number of pods (shards count) in this Flow</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jina.orchestrate.flow.asyncio.AsyncFlow.plot">
<span class="sig-name descname"><span class="pre">plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vertical_layout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inline_display</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">copy_flow</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#jina.orchestrate.flow.asyncio.AsyncFlow.plot" title="Permalink to this definition">#</a></dt>
<dd><p>Visualize the Flow up to the current point
If a file name is provided it will create a jpg image with that name,
otherwise it will display the URL for mermaid.
If called within IPython notebook, it will be rendered inline,
otherwise an image will be created.</p>
<p>Example,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">flow</span> <span class="o">=</span> <span class="n">Flow</span><span class="p">()</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;deployment_a&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s1">&#39;flow.svg&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>output</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – a filename specifying the name of the image to be created,
the suffix svg/jpg determines the file type of the output image</p></li>
<li><p><strong>vertical_layout</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – top-down or left-right layout</p></li>
<li><p><strong>inline_display</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – show image directly inside the Jupyter Notebook</p></li>
<li><p><strong>build</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – build the Flow first before plotting, gateway connection can be better showed</p></li>
<li><p><strong>copy_flow</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – when set to true, then always copy the current Flow and
do the modification on top of it then return, otherwise, do in-line modification</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="../jina.orchestrate.flow.base/#jina.orchestrate.flow.base.Flow" title="jina.orchestrate.flow.base.Flow"><code class="xref py py-class docutils literal notranslate"><span class="pre">Flow</span></code></a></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>the Flow</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jina.orchestrate.flow.asyncio.AsyncFlow.pop_all">
<span class="sig-name descname"><span class="pre">pop_all</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#jina.orchestrate.flow.asyncio.AsyncFlow.pop_all" title="Permalink to this definition">#</a></dt>
<dd><p>Preserve the context stack by transferring it to a new instance.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="jina.orchestrate.flow.asyncio.AsyncFlow.port">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">port</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#jina.orchestrate.flow.asyncio.AsyncFlow.port" title="Permalink to this definition">#</a></dt>
<dd><p>Return the exposed port of the gateway
.. # noqa: DAR201</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="jina.orchestrate.flow.asyncio.AsyncFlow.port_monitoring">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">port_monitoring</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#jina.orchestrate.flow.asyncio.AsyncFlow.port_monitoring" title="Permalink to this definition">#</a></dt>
<dd><p>Return if the monitoring is enabled
.. # noqa: DAR201</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jina.orchestrate.flow.asyncio.AsyncFlow.post">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">post</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">on</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inputs=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">on_done=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">on_error=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">on_always=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_executor=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request_size=100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_progress=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">continue_on_error=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_responses=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_attempts=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_backoff=0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_backoff=2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backoff_multiplier=1.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">results_in_order=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stream=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefetch=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_type=&lt;class</span> <span class="pre">'docarray.array.document.DocumentArray'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#jina.orchestrate.flow.asyncio.AsyncFlow.post" title="Permalink to this definition">#</a></dt>
<dd><p>Async Post a general data request to the Flow.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputs</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[InputType]) – input data which can be a DocList, a BaseDoc, an Iterable, a function which returns an Iterable.</p></li>
<li><p><strong>on</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – the endpoint which is invoked. All the functions in the executors decorated by <cite>&#64;requests(on=…)</cite> with the same endpoint are invoked.</p></li>
<li><p><strong>on_done</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[CallbackFnType]) – the function to be called when the <code class="xref py py-class docutils literal notranslate"><span class="pre">Request</span></code> object is resolved.</p></li>
<li><p><strong>on_error</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[CallbackFnType]) – the function to be called when the <code class="xref py py-class docutils literal notranslate"><span class="pre">Request</span></code> object is rejected.</p></li>
<li><p><strong>on_always</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[CallbackFnType]) – the function to be called when the <code class="xref py py-class docutils literal notranslate"><span class="pre">Request</span></code> object is either resolved or rejected.</p></li>
<li><p><strong>parameters</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">BaseModel</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – the parameters that will be sent to the executor, this can be a Dict or a Pydantic model</p></li>
<li><p><strong>target_executor</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – a regex string. Only matching Executors will process the request.</p></li>
<li><p><strong>request_size</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – the number of Documents per request. &lt;=0 means all inputs in one request.</p></li>
<li><p><strong>show_progress</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – if set, client will show a progress bar on receiving every request.</p></li>
<li><p><strong>continue_on_error</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – if set, a Request that causes an error will be logged only without blocking the further requests.</p></li>
<li><p><strong>return_responses</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – if set to True, the result will come as Response and not as a <cite>DocumentArray</cite></p></li>
<li><p><strong>max_attempts</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – Number of sending attempts, including the original request.</p></li>
<li><p><strong>initial_backoff</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – The first retry will happen with a delay of random(0, initial_backoff)</p></li>
<li><p><strong>max_backoff</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – The maximum accepted backoff after the exponential incremental delay</p></li>
<li><p><strong>backoff_multiplier</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – The n-th attempt will occur at random(0, min(initialBackoff*backoffMultiplier**(n-1), maxBackoff))</p></li>
<li><p><strong>results_in_order</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – return the results in the same order as the inputs</p></li>
<li><p><strong>stream</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – Applicable only to grpc client. If True, the requests are sent to the target using the gRPC streaming interface otherwise the gRPC unary interface will be used. The value is True by default.</p></li>
<li><p><strong>prefetch</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]) – How many Requests are processed from the Client at the same time. If not provided then Gateway prefetch value will be used.</p></li>
<li><p><strong>return_type</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentArray</span></code>]) – the DocList or BaseDoc type to be returned. By default, it is <cite>DocumentArray</cite>.</p></li>
<li><p><strong>kwargs</strong> – additional parameters, can be used to pass metadata or authentication information in the server call</p></li>
</ul>
</dd>
<dt class="field-even">Yield<span class="colon">:</span></dt>
<dd class="field-even"><p>Response object</p>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><code class="docutils literal notranslate"><span class="pre">target_executor</span></code> uses <code class="docutils literal notranslate"><span class="pre">re.match</span></code> for checking if the pattern is matched. <code class="docutils literal notranslate"><span class="pre">target_executor=='foo'</span></code> will match both deployments with the name <code class="docutils literal notranslate"><span class="pre">foo</span></code> and <code class="docutils literal notranslate"><span class="pre">foo_what_ever_suffix</span></code>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncGenerator</span></code>[<code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>, <code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentArray</span></code>, Response]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jina.orchestrate.flow.asyncio.AsyncFlow.profiling">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">profiling</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">show_table</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#jina.orchestrate.flow.asyncio.AsyncFlow.profiling" title="Permalink to this definition">#</a></dt>
<dd><p>Profiling a single query’s roundtrip including network and computation latency. Results is summarized in a Dict.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>show_table</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – whether to show the table or not.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>the latency report in a dict.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="jina.orchestrate.flow.asyncio.AsyncFlow.protocol">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">protocol</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../jina.enums/#jina.enums.ProtocolType" title="jina.enums.ProtocolType"><span class="pre">ProtocolType</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../jina.enums/#jina.enums.ProtocolType" title="jina.enums.ProtocolType"><span class="pre">ProtocolType</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#jina.orchestrate.flow.asyncio.AsyncFlow.protocol" title="Permalink to this definition">#</a></dt>
<dd><p>Return the protocol of this Flow</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="../jina.enums/#jina.enums.ProtocolType" title="jina.enums.ProtocolType"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProtocolType</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<a class="reference internal" href="../jina.enums/#jina.enums.ProtocolType" title="jina.enums.ProtocolType"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProtocolType</span></code></a>]]</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the protocol of this Flow, if only 1 protocol is supported otherwise returns the list of protocols</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jina.orchestrate.flow.asyncio.AsyncFlow.push">
<span class="sig-name descname"><span class="pre">push</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exit</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#jina.orchestrate.flow.asyncio.AsyncFlow.push" title="Permalink to this definition">#</a></dt>
<dd><p>Registers a callback with the standard __exit__ method signature.</p>
<p>Can suppress exceptions the same way __exit__ method can.
Also accepts any object with an __exit__ method (registering a call
to the method instead of the object itself).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jina.orchestrate.flow.asyncio.AsyncFlow.save_config">
<span class="sig-name descname"><span class="pre">save_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#jina.orchestrate.flow.asyncio.AsyncFlow.save_config" title="Permalink to this definition">#</a></dt>
<dd><p>Save the object’s config into a YAML file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filename</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – file path of the yaml file, if not given then <code class="xref py py-attr docutils literal notranslate"><span class="pre">config_abspath</span></code> is used</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jina.orchestrate.flow.asyncio.AsyncFlow.search">
<span class="sig-name descname"><span class="pre">search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs:</span> <span class="pre">~typing.Optional[InputType]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">on_done:</span> <span class="pre">~typing.Optional[CallbackFnType]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">on_error:</span> <span class="pre">~typing.Optional[CallbackFnType]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">on_always:</span> <span class="pre">~typing.Optional[CallbackFnType]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters:</span> <span class="pre">~typing.Optional[~typing.Union[~typing.Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">BaseModel]]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_executor:</span> <span class="pre">~typing.Optional[str]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request_size:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_progress:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">continue_on_error:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_responses:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_attempts:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_backoff:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_backoff:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backoff_multiplier:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">1.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">results_in_order:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stream:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefetch:</span> <span class="pre">~typing.Optional[int]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_type:</span> <span class="pre">~typing.Type[~docarray.array.document.DocumentArray]</span> <span class="pre">=</span> <span class="pre">&lt;class</span> <span class="pre">'docarray.array.document.DocumentArray'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">AsyncGenerator</span><span class="p"><span class="pre">[</span></span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">DocumentArray</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="../jina.types.request.data/#jina.types.request.data.Response" title="jina.types.request.data.Response"><span class="pre">Response</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#jina.orchestrate.flow.asyncio.AsyncFlow.search" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jina.orchestrate.flow.asyncio.AsyncFlow.start">
<span class="sig-name descname"><span class="pre">start</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#jina.orchestrate.flow.asyncio.AsyncFlow.start" title="Permalink to this definition">#</a></dt>
<dd><p>Start to run all Deployments in this Flow.</p>
<p>Remember to close the Flow with <a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.close" title="jina.orchestrate.flow.asyncio.AsyncFlow.close"><code class="xref py py-meth docutils literal notranslate"><span class="pre">close()</span></code></a>.</p>
<p>Note that this method has a timeout of <code class="docutils literal notranslate"><span class="pre">timeout_ready</span></code> set in CLI,
which is inherited all the way from <a class="reference internal" href="../jina.orchestrate.pods/#jina.orchestrate.pods.Pod" title="jina.orchestrate.pods.Pod"><code class="xref py py-class docutils literal notranslate"><span class="pre">jina.orchestrate.pods.Pod</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>this instance</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jina.orchestrate.flow.asyncio.AsyncFlow.stream_doc">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">stream_doc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">on</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_type=&lt;class</span> <span class="pre">'docarray.document.Document'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#jina.orchestrate.flow.asyncio.AsyncFlow.stream_doc" title="Permalink to this definition">#</a></dt>
<dd><p>Send one document to a streaming endpoint and receive results asynchronisly, one Document at a time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputs</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code>) – input data which can be an Iterable, a function which returns an Iterable, or a single Document.</p></li>
<li><p><strong>on</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – the endpoint which is invoked. All the functions in the executors decorated by <cite>&#64;requests(on=…)</cite> with the same endpoint are invoked.</p></li>
<li><p><strong>parameters</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>]) – the kwargs that will be sent to the executor</p></li>
<li><p><strong>return_type</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code>]) – the DocumentArray type to be returned. By default, it is <cite>DocumentArray</cite>.</p></li>
<li><p><strong>timeout</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]) – Timeout for the client to remain connected to the server.</p></li>
<li><p><strong>kwargs</strong> – additional parameters, can be used to pass metadata or authentication information in the server call</p></li>
</ul>
</dd>
<dt class="field-even">Yield<span class="colon">:</span></dt>
<dd class="field-even"><p>Document object</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncGenerator</span></code>[<code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jina.orchestrate.flow.asyncio.AsyncFlow.to_docker_compose_yaml">
<span class="sig-name descname"><span class="pre">to_docker_compose_yaml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">network_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_gateway</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#jina.orchestrate.flow.asyncio.AsyncFlow.to_docker_compose_yaml" title="Permalink to this definition">#</a></dt>
<dd><p>Converts the Flow into a yaml file to run with <cite>docker-compose up</cite>
:type output_path: <code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]
:param output_path: The output path for the yaml file
:type network_name: <code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]
:param network_name: The name of the network that will be used by the deployment name
:type include_gateway: <code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>
:param include_gateway: Defines if the gateway deployment should be included, defaults to True</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jina.orchestrate.flow.asyncio.AsyncFlow.to_k8s_yaml">
<span class="sig-name descname"><span class="pre">to_k8s_yaml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_base_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k8s_namespace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_gateway</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#jina.orchestrate.flow.asyncio.AsyncFlow.to_k8s_yaml" title="Permalink to this definition">#</a></dt>
<dd><p>Converts the Flow into a set of yaml deployments to deploy in Kubernetes.</p>
<p>If you don’t want to rebuild image on Jina Hub,
you can set <cite>JINA_HUB_NO_IMAGE_REBUILD</cite> environment variable.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>output_base_path</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – The base path where to dump all the yaml files</p></li>
<li><p><strong>k8s_namespace</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – The name of the k8s namespace to set for the configurations. If None, the name of the Flow will be used.</p></li>
<li><p><strong>include_gateway</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – Defines if the gateway deployment should be included, defaults to True</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jina.orchestrate.flow.asyncio.AsyncFlow.to_kubernetes_yaml">
<span class="sig-name descname"><span class="pre">to_kubernetes_yaml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_base_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k8s_namespace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_gateway</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#jina.orchestrate.flow.asyncio.AsyncFlow.to_kubernetes_yaml" title="Permalink to this definition">#</a></dt>
<dd><p>Converts the Flow into a set of yaml deployments to deploy in Kubernetes.</p>
<p>If you don’t want to rebuild image on Jina Hub,
you can set <cite>JINA_HUB_NO_IMAGE_REBUILD</cite> environment variable.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>output_base_path</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – The base path where to dump all the yaml files</p></li>
<li><p><strong>k8s_namespace</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – The name of the k8s namespace to set for the configurations. If None, the name of the Flow will be used.</p></li>
<li><p><strong>include_gateway</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – Defines if the gateway deployment should be included, defaults to True</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jina.orchestrate.flow.asyncio.AsyncFlow.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs:</span> <span class="pre">~typing.Optional[InputType]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">on_done:</span> <span class="pre">~typing.Optional[CallbackFnType]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">on_error:</span> <span class="pre">~typing.Optional[CallbackFnType]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">on_always:</span> <span class="pre">~typing.Optional[CallbackFnType]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters:</span> <span class="pre">~typing.Optional[~typing.Union[~typing.Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">BaseModel]]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_executor:</span> <span class="pre">~typing.Optional[str]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request_size:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_progress:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">continue_on_error:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_responses:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_attempts:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_backoff:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_backoff:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backoff_multiplier:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">1.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">results_in_order:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stream:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefetch:</span> <span class="pre">~typing.Optional[int]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_type:</span> <span class="pre">~typing.Type[~docarray.array.document.DocumentArray]</span> <span class="pre">=</span> <span class="pre">&lt;class</span> <span class="pre">'docarray.array.document.DocumentArray'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">AsyncGenerator</span><span class="p"><span class="pre">[</span></span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">DocumentArray</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="../jina.types.request.data/#jina.types.request.data.Response" title="jina.types.request.data.Response"><span class="pre">Response</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#jina.orchestrate.flow.asyncio.AsyncFlow.update" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="jina.orchestrate.flow.asyncio.AsyncFlow.workspace">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">workspace</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#jina.orchestrate.flow.asyncio.AsyncFlow.workspace" title="Permalink to this definition">#</a></dt>
<dd><p>Return the workspace path of the flow.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="jina.orchestrate.flow.asyncio.AsyncFlow.workspace_id">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">workspace_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#jina.orchestrate.flow.asyncio.AsyncFlow.workspace_id" title="Permalink to this definition">#</a></dt>
<dd><p>Get all Deployments’ <code class="docutils literal notranslate"><span class="pre">workspace_id</span></code> values in a dict</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>

                </article>
            </div>
            <footer>
                
                <div class="related-pages">
                    
                    
                </div>
                <div class="bottom-of-page">
                    <div class="left-details">
                        <div class="copyright">
                            Copyright &#169; Jina AI Limited. All rights reserved.
                        </div><div class="last-updated">
                            Last updated on Sep 03, 2024</div>
                    </div>
                    <div class="right-details">
                        <div class="social-btns">
                            <a class='social-btn' href="https://github.com/jina-ai/jina" aria-label="GitHub"
                               target="_blank" rel="noreferrer"> <i class="fab fa-github"></i></a>
                            <a class='social-btn' href="https://discord.jina.ai" aria-label="Discord" target="_blank"
                               rel="noreferrer"> <i class="fab fa-discord"></i></a>
                            <a class='social-btn' href="https://youtube.com/c/jina-ai" aria-label="YouTube"
                               target="_blank" rel="noreferrer"> <i class="fab fa-youtube"></i></a>
                            <a class='social-btn' href="https://twitter.com/JinaAI_" aria-label="Twitter"
                               target="_blank" rel="noreferrer"> <i class="fab fa-twitter"></i></a>
                            <a class='social-btn' href="https://www.linkedin.com/company/jinaai/" aria-label="LinkedIn"
                               target="_blank" rel="noreferrer"> <i class="fab fa-linkedin"></i></a>
                        </div>
                    </div>
                </div>
                
            </footer>
        </div>
        <aside class="toc-drawer">
            
            
            <div class="toc-sticky toc-scroll">
                <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
                </div>
                <div class="toc-tree-container">
                    <div class="toc-tree">
                        <ul>
<li><a class="reference internal" href="#">jina.orchestrate.flow.asyncio module</a><ul>
<li><a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow"><code class="docutils literal notranslate"><span class="pre">AsyncFlow</span></code></a><ul>
<li><a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.add"><code class="docutils literal notranslate"><span class="pre">AsyncFlow.add()</span></code></a></li>
<li><a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.address_private"><code class="docutils literal notranslate"><span class="pre">AsyncFlow.address_private</span></code></a></li>
<li><a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.address_public"><code class="docutils literal notranslate"><span class="pre">AsyncFlow.address_public</span></code></a></li>
<li><a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.block"><code class="docutils literal notranslate"><span class="pre">AsyncFlow.block()</span></code></a></li>
<li><a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.build"><code class="docutils literal notranslate"><span class="pre">AsyncFlow.build()</span></code></a></li>
<li><a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.callback"><code class="docutils literal notranslate"><span class="pre">AsyncFlow.callback()</span></code></a></li>
<li><a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.client"><code class="docutils literal notranslate"><span class="pre">AsyncFlow.client</span></code></a></li>
<li><a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.close"><code class="docutils literal notranslate"><span class="pre">AsyncFlow.close()</span></code></a></li>
<li><a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.config_gateway"><code class="docutils literal notranslate"><span class="pre">AsyncFlow.config_gateway()</span></code></a></li>
<li><a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.delete"><code class="docutils literal notranslate"><span class="pre">AsyncFlow.delete()</span></code></a></li>
<li><a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.dry_run"><code class="docutils literal notranslate"><span class="pre">AsyncFlow.dry_run()</span></code></a></li>
<li><a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.enter_context"><code class="docutils literal notranslate"><span class="pre">AsyncFlow.enter_context()</span></code></a></li>
<li><a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.env"><code class="docutils literal notranslate"><span class="pre">AsyncFlow.env</span></code></a></li>
<li><a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.expose_endpoint"><code class="docutils literal notranslate"><span class="pre">AsyncFlow.expose_endpoint()</span></code></a></li>
<li><a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.gateway_args"><code class="docutils literal notranslate"><span class="pre">AsyncFlow.gateway_args</span></code></a></li>
<li><a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.gather_inspect"><code class="docutils literal notranslate"><span class="pre">AsyncFlow.gather_inspect()</span></code></a></li>
<li><a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.host"><code class="docutils literal notranslate"><span class="pre">AsyncFlow.host</span></code></a></li>
<li><a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.index"><code class="docutils literal notranslate"><span class="pre">AsyncFlow.index()</span></code></a></li>
<li><a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.inspect"><code class="docutils literal notranslate"><span class="pre">AsyncFlow.inspect()</span></code></a></li>
<li><a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.is_flow_ready"><code class="docutils literal notranslate"><span class="pre">AsyncFlow.is_flow_ready()</span></code></a></li>
<li><a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.is_valid_jaml"><code class="docutils literal notranslate"><span class="pre">AsyncFlow.is_valid_jaml()</span></code></a></li>
<li><a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.load_config"><code class="docutils literal notranslate"><span class="pre">AsyncFlow.load_config()</span></code></a></li>
<li><a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.monitoring"><code class="docutils literal notranslate"><span class="pre">AsyncFlow.monitoring</span></code></a></li>
<li><a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.needs"><code class="docutils literal notranslate"><span class="pre">AsyncFlow.needs()</span></code></a></li>
<li><a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.needs_all"><code class="docutils literal notranslate"><span class="pre">AsyncFlow.needs_all()</span></code></a></li>
<li><a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.num_deployments"><code class="docutils literal notranslate"><span class="pre">AsyncFlow.num_deployments</span></code></a></li>
<li><a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.num_pods"><code class="docutils literal notranslate"><span class="pre">AsyncFlow.num_pods</span></code></a></li>
<li><a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.plot"><code class="docutils literal notranslate"><span class="pre">AsyncFlow.plot()</span></code></a></li>
<li><a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.pop_all"><code class="docutils literal notranslate"><span class="pre">AsyncFlow.pop_all()</span></code></a></li>
<li><a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.port"><code class="docutils literal notranslate"><span class="pre">AsyncFlow.port</span></code></a></li>
<li><a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.port_monitoring"><code class="docutils literal notranslate"><span class="pre">AsyncFlow.port_monitoring</span></code></a></li>
<li><a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.post"><code class="docutils literal notranslate"><span class="pre">AsyncFlow.post()</span></code></a></li>
<li><a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.profiling"><code class="docutils literal notranslate"><span class="pre">AsyncFlow.profiling()</span></code></a></li>
<li><a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.protocol"><code class="docutils literal notranslate"><span class="pre">AsyncFlow.protocol</span></code></a></li>
<li><a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.push"><code class="docutils literal notranslate"><span class="pre">AsyncFlow.push()</span></code></a></li>
<li><a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.save_config"><code class="docutils literal notranslate"><span class="pre">AsyncFlow.save_config()</span></code></a></li>
<li><a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.search"><code class="docutils literal notranslate"><span class="pre">AsyncFlow.search()</span></code></a></li>
<li><a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.start"><code class="docutils literal notranslate"><span class="pre">AsyncFlow.start()</span></code></a></li>
<li><a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.stream_doc"><code class="docutils literal notranslate"><span class="pre">AsyncFlow.stream_doc()</span></code></a></li>
<li><a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.to_docker_compose_yaml"><code class="docutils literal notranslate"><span class="pre">AsyncFlow.to_docker_compose_yaml()</span></code></a></li>
<li><a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.to_k8s_yaml"><code class="docutils literal notranslate"><span class="pre">AsyncFlow.to_k8s_yaml()</span></code></a></li>
<li><a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.to_kubernetes_yaml"><code class="docutils literal notranslate"><span class="pre">AsyncFlow.to_kubernetes_yaml()</span></code></a></li>
<li><a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.update"><code class="docutils literal notranslate"><span class="pre">AsyncFlow.update()</span></code></a></li>
<li><a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.workspace"><code class="docutils literal notranslate"><span class="pre">AsyncFlow.workspace</span></code></a></li>
<li><a class="reference internal" href="#jina.orchestrate.flow.asyncio.AsyncFlow.workspace_id"><code class="docutils literal notranslate"><span class="pre">AsyncFlow.workspace_id</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

                    </div>
                </div>
            </div>
            
            
        </aside>
    </div>
</div>
<img referrerpolicy="no-referrer-when-downgrade"
     src="https://static.scarf.sh/a.png?x-pxid=2823e771-0e1e-4320-8fde-48bc48e53262"/><script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/scripts/furo.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/tabs.js"></script>
    <script src="../../_static/design-tabs.js"></script>
    </body>
</html>